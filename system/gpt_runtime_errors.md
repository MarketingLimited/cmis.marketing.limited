# โ๏ธ CMIS GPT Runtime Error Handling Guide

ูุฐุง ุงูููู ููุถูุญ ููููุฉ ุชุนุงูู ุงูุฐูุงุก ุงูุตูุงุนู (GPT) ูุน ุงูุฃุฎุทุงุก ุฃุซูุงุก ุงูุชุดุบูู ุฏุงุฎู ูุธุงู **CMIS Orchestrator**ุ
ุณูุงุก ูุงูุช ูุฐู ุงูุฃุฎุทุงุก ูุงุชุฌุฉ ุนู ุชูููุฐ SQL ุฃู SSH ุฃู FTP ุฃู ุนู ูุดู ูุนุฑูู ูู ุงููุนู ุงูุฅุฏุฑุงูู.

---

## ๐งฉ ุงูุชุตูููุงุช ุงูุฃุณุงุณูุฉ ููุฃุฎุทุงุก

| ููุน ุงูุฎุทุฃ | ุงููุตุฏุฑ | ุงูุชุฃุซูุฑ | ุงูุฅุฌุฑุงุก ุงููุทููุจ |
|-------------|----------|-----------|------------------|
| **SQL_ERROR** | ุชูููุฐ ุงุณุชุนูุงู SQL | ุชููู ุงููููุฉ ูุคูุชูุง | ุณุฌูู ุงูุฎุทุฃ ูู `dev_logs`ุ ุบููุฑ ุญุงูุฉ ุงููููุฉ ุฅูู `pending_review`ุ ูุง ุชูุฑุฑ ุงูุชูููุฐ ุญุชู ูุฑุงุฌุนุฉ ุงูุณุจุจ. |
| **API_ERROR** | ูุดู ูู ุงุณุชุฏุนุงุก API (ูุซู Meta Graph API) | ูุดู ุฌุฒุฆู ุฃู ููู | ุฃุนุฏ ุงููุญุงููุฉ ูุฑุฉ ูุงุญุฏุฉ ููุทุ ุซู ุณุฌูู ุงูุญุฏุซ ูู `dev_logs` ูุน ุฑูุฒ ุงูุงุณุชุฌุงุจุฉ. |
| **SSH_ERROR** | ูุดู ูู ุชูููุฐ ุฃูุฑ ุนุจุฑ ุงูุฎุงุฏู | ุชููู ุงูุชูููุฐ ููุฎุทูุฉ ุงูุญุงููุฉ | ุชุญูู ูู ุตูุงุญูุงุช ุงูุชูููุฐ ุฃู ูุณุงุฑ ุงูุฃูุงูุฑุ ุซู ุฃุนุฏ ุงููุญุงููุฉ ุฅุฐุง ุชู ุงูุชุตุญูุญ. |
| **FTP_ERROR** | ูุดู ูู ุฑูุน ุฃู ุชุญููู ุงููููุงุช | ุชููู ุงูุนูููุฉ ูุคูุชูุง | ุฃุนุฏ ุชูููุฐ ุงูุฎุทูุฉ ููุท ุจุนุฏ ุชุฃููุฏ ุงูุงุชุตุงู ุจุงูุฎุงุฏู. |
| **KNOWLEDGE_MISSING** | ููุต ูุนุฑูุฉ ูุฑุชุจุทุฉ ุจุงููุฌุงู | ุชููู ุงูุฅุฏุฑุงู ุงููุนุฑูู | ุงุณุชุฎุฏู ูุธููุฉ `load_context_by_priority` ูุฌูุจ ุงููุฒูุฏ ูู ุงูุณุฌูุงุช ุชุฏุฑูุฌููุง (10โ20 ูู ูู ูุฑุฉ). |
| **CONFLICT_ERROR** | ุชุถุงุฑุจ ุจูู ูุนุฑูุชูู ุฃู ุฃูุซุฑ ูู ููุณ ุงููุฌุงู | ุฎุทุฃ ููุทูู ุฅุฏุฑุงูู | ุฃููู ุงูุชูููุฐ ูุณุฌูู `conflict_detected` ูู `dev_logs`ุ ูุงุทูุจ ูุฑุงุฌุนุฉ ุจุดุฑูุฉ. |
| **TIMEOUT_ERROR** | ุชุฌุงูุฒ ุงููููุฉ ุงููุญุฏุฏุฉ (60 ุซุงููุฉ) | ุชููู ุงูุชูููุฐ ุงูุขูู | ุณุฌูู ุงูุฎุทุฃ ูุฃุนุฏ ุชูููู ุงูุฎุทุฉ ุงูุฒูููุฉ. |
| **ACCESS_DENIED** | ุตูุงุญูุงุช ุบูุฑ ูุงููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู ุงููููุงุช | ูุดู ุฃููู | ุชุญูู ูู ุฌุฏูู `cmis_access_control` ูุจู ุฅุนุงุฏุฉ ุงูุชูููุฐ. |

---

## ๐๏ธ ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ูุดู SQL
```sql
-- ุงููุชูุฌุฉ:
ERROR: permission denied for table cmis.integrations
```
**ุงูุชุตุฑู:**
```sql
INSERT INTO cmis_dev.dev_logs (task_id, event, details)
VALUES ('<task_id>', 'SQL_ERROR', '{"error":"permission denied","table":"cmis.integrations"}');

UPDATE cmis_dev.dev_tasks SET status='pending_review' WHERE task_id='<task_id>';
```

---

### ูุซุงู 2: ูุดู API
```json
{"error":{"message":"Invalid OAuth access token","type":"OAuthException","code":190}}
```
**ุงูุชุตุฑู:**
- ุฃุนุฏ ุงููุญุงููุฉ ูุฑุฉ ูุงุญุฏุฉ.
- ุฅุฐุง ุงุณุชูุฑ ุงููุดู:
```sql
INSERT INTO cmis_dev.dev_logs (task_id, event, details)
VALUES ('<task_id>', 'API_ERROR', '{"code":190,"message":"Invalid token"}');
```

---

### ูุซุงู 3: ุชุถุงุฑุจ ูู ุงููุนุฑูุฉ
ุนูุฏ ูุฌูุฏ ุณุฌููู ูู `cmis_knowledge_dev` ุจููุณ ุงูู domain ูุงูู topic ููู ุจูุญุชูู ูุชุนุงุฑุถ.
**ุงูุชุตุฑู:**
```sql
INSERT INTO cmis_dev.dev_logs (task_id, event, details)
VALUES ('<task_id>', 'CONFLICT_ERROR', '{"domain":"meta_api","topic":"refresh_token"}');
```
ููุฌุจ ุฅููุงู ุงูุชูููุฐ ุญุชู ุงููุฑุงุฌุนุฉ.

---

## ๐ ููุทู ุงูุชุนุงูู ูุน ุงูุฃุฎุทุงุก (Runtime Flow)

```text
[Step Execution]
       โ
[Error Detected]
       โ
[Classify Error Type]
       โ
[Log Error โ dev_logs]
       โ
[Update Task Status]
       โ
[Resume or Stop Depending on Severity]
```

---

## ๐ฆ ูุณุชููุงุช ุงูุดุฏุฉ (Severity Levels)

| ุงููุณุชูู | ุงููุตู | ุงูุฅุฌุฑุงุก |
|----------|--------|----------|
| โช Info | ููุงุญุธุฉ ุชุดุบูููุฉ | ูุณุชูุฑ ุงูุชูููุฐ ุฏูู ุชููู |
| ๐ก Warning | ุฎูู ุจุณูุท ูุงุจู ููุฅุตูุงุญ | ุฃุนุฏ ุงููุญุงููุฉ ุฃู ุชุฌุงูุฒ ุงูุฎุทูุฉ |
| ๐ด Critical | ูุดู ูุงูู | ุฃููู ุงูุชูููุฐ ูุญุฏุซ ุญุงูุฉ ุงููููุฉ ุฅูู `failed` |

---

## ๐ง ุชุนูููุงุช ุฐููุฉ ูู GPT
1. ูุง ุชููุฑุฑ ููุณ ุงูุฎุทูุฉ ูุฑุชูู ุฅุฐุง ูุดูุช ุจููุณ ุงูุณุจุจ.
2. ูุง ุชุญุงูู ุฅุตูุงุญ ุฎุทุฃ ุฏูู ูุนุฑูุฉ ุฏูููุฉ ุจุณุจุจ ุงููุดู.
3. ุนูุฏ ุงูุชุดุงู ุชุถุงุฑุจ ูู ุงููุนุฑูุฉุ ุฃุถู ููุงุญุธุฉ ูู `cmis_knowledge_base` ุจุนููุงู `conflict_case`.
4. ุจุนุฏ ุฃู ูุดูุ ุฃุนุฏ ุชูููู ุฎุทุฉ ุงูุชูููุฐ ูุจู ุงูุงุณุชุฆูุงู.

---

๐ **ุงููููุน:** `/httpdocs/system/gpt_runtime_errors.md`

ูุฐุง ุงูููู ูุถูู ุฃู GPT ูุชุนุงูู ูุน ุงูุฃุฎุทุงุก ุจูููุฌูุฉ ุขููุฉ ูููุธูุฉ โ ูุง ููุนุ ูุง ุนุดูุงุฆูุฉุ ููุท ูุนู ุชูููุฐู ูุถุจูุท.