includes:
    - vendor/larastan/larastan/extension.neon

parameters:
    # Start at level 0 for initial baseline, gradually increase
    level: 0

    paths:
        - app

    # Exclude problematic files during refactoring
    excludePaths:
        # Migrations and seeders don't need type checking
        - database/migrations/*
        - database/seeders/*

    # Bootstrap file for Laravel
    bootstrapFiles:
        - vendor/autoload.php

    # Ignore errors in vendor
    scanDirectories:
        - vendor

    # Stricter analysis
    treatPhpDocTypesAsCertain: false

    # Laravel-specific configuration
    checkModelProperties: true
    checkOctaneCompatibility: false
    noUnnecessaryCollectionCall: true

    # Ignore specific errors temporarily (remove these as you fix issues)
    ignoreErrors:
        # Example: Ignore missing types on legacy code
        # - '#Parameter .* has no type specified#'

        # Example: Ignore specific files
        # -
        #     message: '#.*#'
        #     path: app/Services/Legacy/*.php

    # Custom error formatting
    errorFormat: table

    # Baseline file (optional - generate with: vendor/bin/phpstan analyse --generate-baseline)
    # includes:
    #     - phpstan-baseline.neon
