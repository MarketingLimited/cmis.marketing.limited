Enabling RLS on cmis.orgs...
Enabling RLS on cmis.org_markets...
Enabling RLS on cmis.user_orgs...
Enabling RLS on cmis.campaigns...
Enabling RLS on cmis.content_plans...
Enabling RLS on cmis.content_items...
Enabling RLS on cmis.creative_assets...
Enabling RLS on cmis.ad_accounts...
Enabling RLS on cmis.ad_campaigns...
Enabling RLS on cmis.ad_sets...
Enabling RLS on cmis.ad_entities...
Enabling RLS on cmis.ad_metrics...
Creating RLS policy for cmis.orgs...
Creating RLS policy for cmis.org_markets...
Creating RLS policy for cmis.user_orgs...
Creating RLS policy for cmis.campaigns...
Creating RLS policy for cmis.content_plans...
Creating RLS policy for cmis.content_items...
Creating RLS policy for cmis.creative_assets...
Creating RLS policy for cmis.ad_accounts...
Creating RLS policy for cmis.ad_campaigns...
Creating RLS policy for cmis.ad_sets...
Creating RLS policy for cmis.ad_entities...
Creating RLS policy for cmis.ad_metrics...
Row-Level Security enabled successfully!

âš ï¸  CRITICAL MIGRATION: Converting users.user_id from BIGINT to UUID
This will invalidate all existing user sessions and API tokens.
Press Ctrl+C within 10 seconds to abort...

Step 1/10: Checking current schema...
âœ“ Users table already uses UUID. Skipping migration.

ðŸ“Š Adding performance indexes...

Creating indexes for campaigns table...
âœ“ Created index: idx_campaigns_org_status
âœ“ Created index: idx_campaigns_dates
âœ“ Created index: idx_campaigns_created
Creating indexes for content_plans table...
âœ“ Created index: idx_content_plans_campaign
âœ“ Created index: idx_content_plans_org_created
Creating indexes for content_items table...
âœ“ Created index: idx_content_items_plan
âœ“ Created index: idx_content_items_status
Creating indexes for ad_accounts table...
âœ“ Created index: idx_ad_accounts_status
Creating indexes for ad_campaigns table...
âš  Warning: Could not create index idx_ad_campaigns_account: SQLSTATE[42703]: Undefined column: 7 ERROR:  column "ad_account_id" does not exist (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_ad_campaigns_account
                    ON cmis.ad_campaigns (ad_account_id, status)
                )
âš  Warning: Could not create index idx_ad_campaigns_dates: SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_ad_campaigns_dates
                    ON cmis.ad_campaigns (start_date, end_date)
                )
Creating indexes for ad_metrics table...
âš  Warning: Could not create index idx_ad_metrics_entity_date: SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_ad_metrics_entity_date
                    ON cmis.ad_metrics (ad_entity_id, recorded_at DESC)
                )
âš  Warning: Could not create index idx_ad_metrics_date: SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_ad_metrics_date
                    ON cmis.ad_metrics (recorded_at DESC)
                )
âš  Warning: Could not create index idx_ad_metrics_campaign: SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_ad_metrics_campaign
                    ON cmis.ad_metrics (ad_campaign_id, recorded_at DESC)
                )
Creating indexes for user_orgs table...
âš  Warning: Could not create index idx_user_orgs_user: SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_user_orgs_user
                    ON cmis.user_orgs (user_id, is_active)
                )
âš  Warning: Could not create index idx_user_orgs_org: SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_user_orgs_org
                    ON cmis.user_orgs (org_id, is_active)
                )
Creating indexes for creative_assets table...
âš  Warning: Could not create index idx_creative_assets_org: SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_creative_assets_org
                    ON cmis.creative_assets (org_id, asset_type)
                )
âš  Warning: Could not create index idx_creative_assets_created: SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_creative_assets_created
                    ON cmis.creative_assets (created_at DESC)
                )
Creating indexes for compliance_audits table...
âš  Warning: Could not create index idx_compliance_audits_content: SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_compliance_audits_content
                    ON cmis.compliance_audits (content_item_id)
                )
âš  Warning: Could not create index idx_compliance_audits_status: SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_compliance_audits_status
                    ON cmis.compliance_audits (status, created_at DESC)
                )
Creating indexes for activity_logs table...
âš  Warning: Could not create index idx_audit_user_date: SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_audit_user_date
                    ON cmis_audit.activity_logs (user_id, created_at DESC)
                )
âš  Warning: Could not create index idx_audit_action: SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_audit_action
                    ON cmis_audit.activity_logs (action, created_at DESC)
                )
âš  Warning: Could not create index idx_audit_model: SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_audit_model
                    ON cmis_audit.activity_logs (model_type, model_id)
                )
Creating indexes for personal_access_tokens table...
âš  Warning: Could not create index idx_tokens_tokenable: SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_tokens_tokenable
                    ON personal_access_tokens (tokenable_type, tokenable_id)
                )
âš  Warning: Could not create index idx_tokens_created: SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (Connection: pgsql, SQL: 
                    CREATE INDEX IF NOT EXISTS idx_tokens_created
                    ON personal_access_tokens (created_at DESC)
                )

âœ“ All performance indexes created successfully!
âœ“ Query performance should be significantly improved


ðŸ“Š Adding foreign key constraints for user reference columns...

âš ï¸  Could not add FK fk_user_permissions_user: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint matching given keys fo...
âš ï¸  Could not add FK fk_user_activities_user: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint matching given keys fo...
âš ï¸  Could not add FK fk_user_sessions_user: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint matching given keys fo...
âš ï¸  Could not add FK fk_sessions_user: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint matching given keys fo...
âš ï¸  Could not add FK fk_scheduled_social_posts_user: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint matching given keys fo...
âš ï¸  Could not add FK fk_security_context_audit_user: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint matching given keys fo...
âš ï¸  Could not add FK fk_audience_templates_created_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint matching given keys fo...
âš ï¸  Could not add FK fk_campaign_context_links_created_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint matching given keys fo...
âš ï¸  Could not add FK fk_campaigns_created_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint matching given keys fo...
âš ï¸  Could not add FK fk_integrations_created_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint matching given keys fo...
âš ï¸  Could not add FK fk_roles_created_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint matching given keys fo...
âš ï¸  Could not add FK fk_campaign_context_links_updated_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint matching given keys fo...
âš ï¸  Could not add FK fk_integrations_updated_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint matching given keys fo...
âš ï¸  Could not add FK fk_team_invitations_invited_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint matching given keys fo...
âš ï¸  Could not add FK fk_user_orgs_invited_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint matching given keys fo...

âœ… Foreign key migration complete!
   Added: 0
   Skipped: 15

âœ“ Fixed performance_metrics constraints
âœ“ Notifications table created with RLS policies

ðŸ“Š Creating foreign keys directly...

âš ï¸  Could not add FK fk_user_permissions_user: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âš ï¸  Could not add FK fk_user_activities_user: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âš ï¸  Could not add FK fk_user_sessions_user: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âš ï¸  Could not add FK fk_sessions_user: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âš ï¸  Could not add FK fk_scheduled_social_posts_user: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âš ï¸  Could not add FK fk_security_context_audit_user: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âš ï¸  Could not add FK fk_notifications_user: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âš ï¸  Could not add FK fk_audience_templates_created_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âš ï¸  Could not add FK fk_campaign_context_links_created_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âš ï¸  Could not add FK fk_campaigns_created_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âš ï¸  Could not add FK fk_integrations_created_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âš ï¸  Could not add FK fk_roles_created_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âš ï¸  Could not add FK fk_campaign_context_links_updated_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âš ï¸  Could not add FK fk_integrations_updated_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âš ï¸  Could not add FK fk_team_invitations_invited_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âš ï¸  Could not add FK fk_user_orgs_invited_by: SQLSTATE[42830]: Invalid foreign key: 7 ERROR:  there is no unique constraint ma...
âœ“ Added FK: fk_notifications_org on cmis.notifications.org_id -> cmis.orgs.org_id

âœ… Foreign key creation complete!
   Added: 1
   Skipped: 16

âœ“ Added updated_at to cmis.orgs
âœ“ Added created_at to cmis.user_orgs
âœ“ Added updated_at to cmis.user_orgs
âœ“ Added created_at to cmis.org_markets
âœ“ Added updated_at to cmis.org_markets
âœ“ Added updated_at to cmis.ad_campaigns
âœ“ Added updated_at to cmis.ad_metrics
âœ“ Added updated_at to cmis.ai_actions
âœ“ Added updated_at to cmis.ai_generated_campaigns
âœ“ Added updated_at to cmis.ai_models
âœ“ Added updated_at to cmis.cognitive_tracker_template
âœ“ Added updated_at to cmis.cognitive_trends
âœ“ Added updated_at to cmis.compliance_audits
âœ“ Added updated_at to cmis.content_plans
âœ“ Added updated_at to cmis.contexts
âœ“ Added updated_at to cmis.contexts_base
âœ“ Added updated_at to cmis.copy_components
âœ“ Added updated_at to cmis.creative_assets
âœ“ Added updated_at to cmis.creative_briefs
âœ“ Added updated_at to cmis.experiments
âœ“ Added updated_at to cmis.export_bundles
âœ“ Added updated_at to cmis.field_definitions
âœ“ Added updated_at to cmis.field_values
âœ“ Added updated_at to cmis.job_batches
âœ“ Added updated_at to cmis.jobs
âœ“ Added updated_at to cmis.meta_documentation
âœ“ Added updated_at to cmis.meta_field_dictionary
âœ“ Added updated_at to cmis.meta_function_descriptions
âœ“ Added updated_at to cmis.offerings_full_details
âœ“ Added updated_at to cmis.offerings_old
âœ“ Added updated_at to cmis.password_reset_tokens
âœ“ Added updated_at to cmis.predictive_visual_engine
âœ“ Added updated_at to cmis.reference_entities
âœ“ Added updated_at to cmis.roles
âœ“ Added updated_at to cmis.security_context_audit
âœ“ Added updated_at to cmis.social_post_metrics
âœ“ Added updated_at to cmis.social_posts
âœ“ Added updated_at to cmis.team_account_access
âœ“ Added updated_at to cmis.user_activities
âœ“ Added updated_at to cmis.user_sessions
âœ“ Added updated_at to cmis.value_contexts
âœ“ Added created_at to cmis.permissions
âœ“ Added updated_at to cmis.permissions
âœ“ Added created_at to cmis.role_permissions
âœ“ Added updated_at to cmis.role_permissions
âœ“ Added created_at to cmis.user_permissions
âœ“ Added updated_at to cmis.user_permissions
âœ“ Added created_at to cmis.social_accounts
âœ“ Added created_at to cmis.team_invitations
âœ“ Added updated_at to cmis.team_invitations
âœ“ Added created_at to cmis.sessions
âœ“ Added updated_at to cmis.sessions
âœ“ Added current_org_id to cmis.users
âœ“ Added status to cmis.users
âœ“ Added id column to cmis.notifications
âœ“ Created transaction context functions
âœ“ Added notifiable_type and notifiable_id to cmis.notifications
âœ“ Added post_id to cmis.scheduled_social_posts
âœ“ Added metadata to cmis.users
âœ“ Added primary key to cmis.users(user_id)
âœ“ Added account_username to cmis.integrations
âœ“ Added account_name to cmis.integrations
âœ“ Added refresh_token to cmis.integrations
âœ“ Added token_expires_at to cmis.integrations
âœ“ Added expires_at to cmis.integrations
âœ“ Added status to cmis.integrations
âœ“ Added metadata to cmis.integrations
âœ“ Added scopes to cmis.integrations
âœ“ Added user_org_id to cmis.user_orgs
âœ“ Added invited_at to cmis.user_orgs
âœ“ Made campaign_external_id nullable in cmis.ad_campaigns
âœ“ Created table: cmis.team_members
âœ“ Created table: cmis.leads
âœ“ Created table: cmis.webhooks
âœ“ Created table: cmis.contacts
âœ“ Created table: cmis.knowledge_index
âœ“ Created table: cmis.subscriptions
âœ“ Created table: cmis.api_logs
âœ“ Created table: cmis.content_plan_items
âœ“ Created table: cmis.offerings
âœ“ Created table: cmis.content
âœ“ Created table: cmis.platform_connections
âœ“ Created table: cmis.assets
âœ“ Created table: cmis.invoices
âœ“ Created table: cmis.audiences
âœ“ Created table: cmis.templates
âœ“ Created table: cmis.posts
âœ“ Created table: cmis.custom_fields
âœ“ Created table: cmis.comments
âœ“ Created table: cmis.budgets
âœ“ Created table: cmis.audit_logs

âœ… Migration complete! Created 20 missing tables.
âœ“ Added code column to public.markets
âœ“ Updated cmis.markets view to include code column
âœ“ Added name column to cmis.permissions

âœ… Added missing columns successfully!
âœ“ Created table: cmis.audience_segments
âœ“ Created table: cmis.analytics_snapshots
âœ“ Created table: cmis.analytics_reports
âœ“ Created table: cmis.activities
âœ“ Created table: cmis.workflows
âœ“ Created table: cmis.tags
âœ“ Created table: cmis.notification_preferences
âœ“ Created table: cmis.metrics
âœ“ Created table: cmis.content_media
âœ“ Created table: cmis.campaign_budgets

âœ… Migration complete! Created 10 additional tables.
âœ“ Added team_member_id to team_members
âœ“ Added updated_at to api_logs
âœ“ Added name to markets
âœ“ Added knowledge_id to knowledge_index
âœ“ Added platform to posts
âœ“ Added commentable_type to comments
âœ“ Added commentable_id to comments
âœ“ Added total_amount to budgets
âœ“ Added title to knowledge_index
âœ“ Added score to leads
âœ“ Added log_id to audit_logs

âœ… All column fixes applied successfully!
âœ“ Created table: cmis.activity_logs
âœ“ Created table: cmis.settings
âœ“ Created table: cmis.schedules
âœ“ Created table: cmis.campaign_analytics
âœ“ Created table: cmis.social_posts_v2
âœ“ Created table: cmis.social_accounts_v2
âœ“ Created table: cmis.content_plans_v2
âœ“ Created table: cmis.scheduled_social_posts_v2
âœ“ Created table: cmis.embeddings_cache
âœ“ Created table: cmis.campaign_metrics

âœ… Migration complete! Created 10 additional tables.
âœ“ Made event_type nullable in webhooks
âœ“ Made plan_id nullable in content_plan_items
âœ“ Made role_name nullable in roles
âœ“ Made permission_code nullable in permissions
âœ“ Made brief_data nullable in creative_briefs

âœ… All NULL constraint fixes applied!
âœ“ Added usage_count to assets
âœ“ Added report_name to analytics_reports
âœ“ Added activity_id to activity_logs

   FAIL  Tests\Feature\Controllers\NotificationControllerTest
  â¨¯ user cannot access others notifications                             15.36s  
  â¨¯ it paginates notifications                                           0.32s  
  â¨¯ it can list user notifications                                       0.31s  
  â¨¯ it can mark all as read                                              0.31s  
  â¨¯ it can delete notification                                           0.31s  
  â¨¯ it can mark notification as read                                     0.31s  
  â¨¯ it shows unread count                                                0.31s  
  â¨¯ it filters by notification type                                      0.31s  
  â¨¯ it can delete all read notifications                                 0.31s  

   FAIL  Tests\Feature\API\AnalyticsAPITest
  â¨¯ it enforces org isolation for analytics                              0.63s  
  â¨¯ it requires authentication                                           0.08s  
  â¨¯ it can compare campaigns                                             0.33s  
  â¨¯ it can get content performance                                       0.33s  
  â¨¯ it can get analytics by date range                                   0.34s  
  â¨¯ it can calculate roi                                                 0.34s  
  â¨¯ it can get engagement metrics                                        0.33s  
  â¨¯ it can get audience demographics                                     0.33s  
  â¨¯ it can export analytics to pdf                                       0.34s  
  â¨¯ it can get overall organization analytics                            0.33s  
  â¨¯ it can get social media analytics                                    0.33s  
  â¨¯ it can export analytics to excel                                     0.33s  
  â¨¯ it can get funnel analytics                                          0.34s  
  â¨¯ it can get campaign analytics                                        0.33s  

   FAIL  Tests\Feature\API\TeamAPITest
  â¨¯ it validates email on invite                                         0.33s  
  â¨¯ it can get team member details                                       0.56s  
  â¨¯ it can get team statistics                                           0.32s  
  â¨¯ it can list team members                                             0.79s  
  â¨¯ it can update team member role                                       0.56s  
  â¨¯ it prevents duplicate email invites                                  0.56s  
  â¨¯ it can update team member permissions                                0.56s  
  â¨¯ it can get team activity log                                         0.32s  
  â¨¯ it can invite team member                                            0.33s  
  â¨¯ it can resend invitation                                             0.55s  
  â¨¯ it respects org isolation                                            0.80s  
  â¨¯ it can remove team member                                            0.56s  

   FAIL  Tests\Feature\Creative\ContentPlanControllerTest
  â¨¯ it can create a content plan
  â¨¯ it can list content plans
  â¨¯ it requires reason when rejecting
  â¨¯ it can delete a content plan
  â¨¯ it validates required fields when creating
  â¨¯ it cannot show content plan from different org
  â¨¯ it can show a content plan
  â¨¯ it enforces pagination limits
  â¨¯ it requires authentication
  â¨¯ it can reject a content plan
  â¨¯ it can get content plan stats
  â¨¯ it can filter content plans by campaign
  â¨¯ it can approve a content plan
  â¨¯ it can update a content plan

   FAIL  Tests\Feature\Controllers\ContentControllerTest
  â¨¯ it can create content item                                           0.33s  
  â¨¯ it can delete content item                                           0.32s  
  â¨¯ it can schedule content                                              0.32s  
  â¨¯ it requires authentication                                           0.09s  
  â¨¯ it can list content items                                            0.32s  
  â¨¯ it validates required fields                                         0.32s  
  â¨¯ it can get single content item                                       0.32s  
  â¨¯ it can filter by status                                              0.31s  
  â¨¯ it respects org isolation                                            0.55s  
  â¨¯ it can update content item                                           0.32s  

   FAIL  Tests\Feature\Security\SecurityHeadersTest
  ! security headers on authenticated routes â†’ file_get_contents(/home/â€¦ 0.11s  
  ! security headers are present â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.09s  
  ! hsts header not in development â†’ file_get_contents(/home/user/cmis.â€¦ 0.07s  
  ! csp header for html responses â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.08s  
  ! referrer policy is set â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  
  ! x xss protection is enabled â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.07s  
  ! all critical security headers present â†’ file_get_contents(/home/useâ€¦ 0.07s  
  ! x frame options is sameorigin â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.08s  
  ! csp allows necessary resources â†’ file_get_contents(/home/user/cmis.â€¦ 0.07s  
  ! permissions policy is restrictive â†’ file_get_contents(/home/user/cmâ€¦ 0.07s  
  ! security headers on error responses â†’ file_get_contents(/home/user/â€¦ 0.09s  
  â¨¯ security headers on api responses                                    0.09s  
  ! hsts header in production â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.07s  
  â¨¯ security headers dont break functionality                            0.08s  
  ! x content type options is nosniff â†’ file_get_contents(/home/user/cmâ€¦ 0.07s  

   FAIL  Tests\Feature\Controllers\SettingsControllerTest
  â¨¯ it can view billing settings                                         0.31s  
  â¨¯ it can view notification settings                                    0.31s  
  â¨¯ it validates settings updates                                        0.31s  
  â¨¯ it respects org isolation                                            0.30s  
  â¨¯ it can view integration settings                                     0.30s  
  â¨¯ viewer cannot update settings                                        0.30s  
  â¨¯ it can view general settings                                         0.31s  
  â¨¯ it can update notification preferences                               0.31s  
  â¨¯ it can update security settings                                      0.31s  
  â¨¯ it can update org settings                                           0.31s  

   FAIL  Tests\Feature\Auth\AuthTest
  â¨¯ registration creates user and returns token                          0.12s  
  ! login validates required fields â†’ file_get_contents(/home/user/cmisâ€¦ 0.09s  
  â¨¯ logout all revokes all tokens                                        0.08s  
  â¨¯ authenticated user can update profile                                0.08s  
  â¨¯ registration with org creates organization                           0.08s  
  â¨¯ login requires correct password                                      0.77s  
  â¨¯ authenticated user can get profile                                   0.09s  
  ! login fails with nonexistent email â†’ file_get_contents(/home/user/câ€¦ 0.09s  
  â¨¯ token refresh works                                                  0.08s  
  ! login fails for inactive users â†’ file_get_contents(/home/user/cmis.â€¦ 0.54s  
  ! token refresh requires authentication â†’ file_get_contents(/home/useâ€¦ 0.08s  
  â¨¯ logout revokes current token                                         0.08s  
  â¨¯ password is hashed during registration                               0.08s  

   FAIL  Tests\Feature\Orgs\OrgManagementTest
  â¨¯ user can view organization details                                   0.10s  
  â¨¯ user can create new organization                                     0.09s  
  â¨¯ owner can update organization                                        0.09s  
  â¨¯ owner can soft delete organization                                   0.08s  
  â¨¯ non owner cannot delete organization                                 0.08s  
  â¨¯ user can list their organizations                                    0.11s  
  â¨¯ user can view org statistics                                         0.09s  
  â¨¯ user cannot access org without membership                            0.09s  

   FAIL  Tests\Feature\API\IntegrationAPITest
  â¨¯ it can get integration activity log                                  0.34s  
  â¨¯ it can connect instagram integration                                 0.34s  
  â¨¯ it validates platform on connect                                     0.33s  
  â¨¯ it can test integration connection                                   0.33s  
  â¨¯ it can list all integrations                                         0.34s  
  â¨¯ it can sync integration data                                         0.34s  
  â¨¯ it can get available integrations                                    0.34s  
  â¨¯ it can refresh integration token                                     0.34s  
  â¨¯ it can get integration permissions                                   0.33s  
  â¨¯ it respects org isolation                                            0.57s  
  â¨¯ it can get integration by id                                         0.32s  
  â¨¯ it can configure webhook for integration                             0.33s  
  â¨¯ it can disconnect integration                                        0.33s  

   FAIL  Tests\Feature\API\AIAssistantAPITest
  â¨¯ it can generate content calendar                                     0.33s  
  â¨¯ it can generate hashtags                                             0.32s  
  â¨¯ it can generate content variations                                   0.33s  
  â¨¯ it can auto categorize content                                       0.33s  
  ! it handles ai api errors â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.32s  
  â¨¯ it can generate campaign brief                                       0.33s  
  â¨¯ it can generate visual description                                   0.32s  
  â¨¯ it can extract keywords                                              0.32s  
  â¨¯ it can analyze sentiment                                             0.33s  
  â¨¯ it can generate content suggestions                                  0.32s  
  â¨¯ it can translate content                                             0.32s  
  â¨¯ it can generate meta description                                     0.33s  
  ! it validates required fields â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.32s  
  â¨¯ it can suggest improvements                                          0.32s  

   FAIL  Tests\Feature\GPT\GPTWorkflowTest
  â¨¯ it can add knowledge item
  â¨¯ it can get conversation history
  â¨¯ it can create campaign via gpt
  â¨¯ it can get conversation statistics
  â¨¯ it can get ai insights for campaign
  â¨¯ it can create content plan
  â¨¯ it validates conversation message
  â¨¯ it can get single campaign
  â¨¯ it maintains conversation context across messages
  â¨¯ it can create conversation session
  â¨¯ it can reuse existing session
  â¨¯ it can get user and org context
  â¨¯ it requires authentication for gpt endpoints
  â¨¯ it validates knowledge search query
  â¨¯ it enforces message max length
  â¨¯ it can limit conversation history
  â¨¯ it can filter campaigns by status
  â¨¯ it can list campaigns via gpt
  â¨¯ it can send message in conversation
  â¨¯ it can clear conversation history
  â¨¯ it prevents access to other orgs campaigns
  â¨¯ it can search knowledge base
  â¨¯ it can list content plans
  â¨¯ it handles conversation errors gracefully

   FAIL  Tests\Feature\ExampleTest
  â¨¯ the application returns a successful response                        0.09s  

   FAIL  Tests\Feature\Controllers\IntegrationControllerTest
  â¨¯ it can refresh integration token                                     0.34s  
  â¨¯ it can delete integration                                            0.33s  
  â¨¯ it validates required fields                                         0.33s  
  â¨¯ it requires authentication                                           0.09s  
  â¨¯ it can test integration connection                                   0.33s  
  â¨¯ it can update integration                                            0.34s  
  â¨¯ it can list all integrations                                         0.32s  
  â¨¯ it respects org isolation                                            0.57s  
  â¨¯ it can get single integration                                        0.33s  
  â¨¯ it can create new integration                                        0.32s  

   FAIL  Tests\Feature\Controllers\DashboardControllerTest
  â¨¯ it returns campaign summary                                          0.34s  
  â¨¯ it returns analytics overview                                        0.34s  
  â¨¯ it returns top performing campaigns                                  0.34s  
  â¨¯ it returns budget summary                                            0.34s  
  â¨¯ it requires authentication                                           0.09s  
  â¨¯ it shows dashboard for authenticated user                            0.34s  
  â¨¯ it handles empty data gracefully                                     0.33s  
  â¨¯ it filters data by date range                                        0.33s  
  â¨¯ it returns recent activity                                           0.33s  
  â¨¯ it returns upcoming scheduled posts                                  0.32s  
  â¨¯ it respects org isolation                                            0.57s  

   FAIL  Tests\Feature\API\PublishingAPITest
  â¨¯ it can schedule instagram post                                       0.34s  
  â¨¯ it can get publishing history                                        0.32s  
  â¨¯ it respects org isolation                                            0.57s  
  â¨¯ it can publish immediately to facebook                               0.32s  
  â¨¯ it can schedule multiple platforms                                   0.32s  
  â¨¯ it can bulk schedule posts                                           0.32s  
  â¨¯ it can cancel scheduled post                                         0.32s  
  â¨¯ it can retry failed publishing                                       0.32s  
  â¨¯ it validates scheduling time                                         0.31s  
  â¨¯ it can preview post before publishing                                0.33s  
  â¨¯ it can get publishing queue                                          0.33s  

   FAIL  Tests\Feature\API\CreativeBriefAPITest
  â¨¯ it requires authentication                                           0.10s  
  â¨¯ it enforces org isolation for briefs                                 0.57s  
  â¨¯ it can view a specific creative brief                                0.34s  
  â¨¯ it can update a creative brief                                       0.34s  
  â¨¯ it can create a creative brief                                       0.33s  
  â¨¯ it includes complete art direction in response                       0.34s  
  â¨¯ it can search creative briefs                                        0.33s  
  â¨¯ it validates creative brief creation data                            0.34s  
  â¨¯ it can list creative briefs for organization                         0.34s  
  â¨¯ it can delete a creative brief                                       0.33s  

   FAIL  Tests\Feature\Auth\AuthenticationTest
  â¨¯ user can logout                                                      0.09s  
  â¨¯ registration requires password confirmation                          0.08s  
  â¨¯ unauthenticated user cannot access protected routes                  0.08s  
  ! registration requires valid email â†’ file_get_contents(/home/user/cmâ€¦ 0.08s  
  â¨¯ authenticated user can update profile                                0.09s  
  â¨¯ authenticated user can view profile                                  0.10s  
  â¨¯ user cannot login with incorrect password                            0.54s  
  â¨¯ user can register                                                    0.08s  
  â¨¯ user can login with correct credentials                              0.54s  

   FAIL  Tests\Feature\Core\OrgMarketControllerTest
  â¨¯ it can add market to organization
  â¨¯ it requires authentication
  â¨¯ it validates priority level range
  â¨¯ it can update organization market
  â¨¯ it can show organization market
  â¨¯ it can list available markets
  â¨¯ it can get organization market stats
  â¨¯ it can list organization markets
  â¨¯ it can filter markets by status
  â¨¯ it prevents duplicate markets
  â¨¯ it can calculate roi
  â¨¯ it cannot access markets from different org
  â¨¯ it can remove market from organization
  â¨¯ it validates required fields when adding market

   FAIL  Tests\Feature\Commands\SyncCommandsTest
  â¨¯ database cleanup command with dry run                                0.09s  
  â¨¯ sync meta ads command dispatches jobs when queue flag used           0.09s  
  â¨¯ embeddings generate command dispatches job                           0.08s  
  ! system health command checks database â†’ file_get_contents(/home/useâ€¦ 0.09s  
  â¨¯ sync all command with queue flag dispatches all jobs                 0.08s  
  â¨¯ sync facebook command dispatches jobs when queue flag used           0.08s  
  â¨¯ sync all command runs all platform syncs                             0.08s  
  â¨¯ sync instagram command dispatches jobs when queue flag used          0.08s  
  â¨¯ sync command warns when no active integrations                       0.08s  
  â¨¯ sync command handles date range filters                              0.09s  

   FAIL  Tests\Feature\API\OfferingAPITest
  â¨¯ it can filter offerings by type                                      0.34s  
  â¨¯ it can delete an offering                                            0.34s  
  â¨¯ it validates price is positive                                       0.33s  
  â¨¯ it can create a product                                              0.32s  
  â¨¯ it can list offerings for organization                               0.33s  
  â¨¯ it can update an offering                                            0.32s  
  â¨¯ it enforces org isolation for offerings                              0.57s  
  â¨¯ it can create a service                                              0.33s  
  â¨¯ it can view a specific offering                                      0.33s  
  â¨¯ it validates offering creation data                                  0.33s  
  â¨¯ it requires authentication                                           0.08s  

   FAIL  Tests\Feature\Controllers\AnalyticsControllerTest
  â¨¯ it can get top performing content                                    0.33s  
  â¨¯ it can get campaign analytics                                        0.33s  
  â¨¯ it respects org isolation                                            0.56s  
  â¨¯ it can compare campaigns                                             0.33s  
  â¨¯ it requires authentication                                           0.07s  
  â¨¯ it can export analytics report                                       0.32s  
  â¨¯ it can get time series data                                          0.33s  
  â¨¯ it can get overview analytics                                        0.31s  
  â¨¯ it can get platform analytics                                        0.32s  
  â¨¯ it validates date range                                              0.31s  

   FAIL  Tests\Feature\Controllers\WebhookControllerTest
  â¨¯ viewer cannot create webhooks                                        0.32s  
  â¨¯ it can test webhook delivery                                         0.30s  
  â¨¯ it can create webhook                                                0.30s  
  â¨¯ it can view webhook delivery logs                                    0.30s  
  â¨¯ it can toggle webhook status                                         0.30s  
  â¨¯ it can show webhook details                                          0.31s  
  â¨¯ it can update webhook                                                0.31s  
  â¨¯ it can list webhooks                                                 0.30s  
  â¨¯ it can delete webhook                                                0.30s  
  â¨¯ it respects org isolation                                            0.31s  

   FAIL  Tests\Feature\Security\RowLevelSecurityTest
  â¨¯ rls prevents cross tenant campaign access                            0.09s  
  â¨¯ rls blocks direct database queries across tenants                    0.08s  
  â¨¯ rls prevents deletes of other org data                               0.07s  
  â¨¯ rls function returns correct org id                                  0.08s  
  â¨¯ rls works with joins                                                 0.07s  
  â¨¯ rls prevents updates to other org data                               0.09s  
  â¨¯ rls isolates knowledge base                                          0.08s  
  â¨¯ rls context switches with org change                                 0.07s  
  â¨¯ rls blocks unauthenticated access                                    0.07s  
  â¨¯ rls isolates content plans                                           0.08s  

   FAIL  Tests\Feature\Controllers\ReportControllerTest
  â¨¯ it can schedule recurring report                                     0.32s  
  â¨¯ it respects org isolation                                            0.30s  
  â¨¯ it can delete report                                                 0.30s  
  â¨¯ it can generate new report                                           0.31s  
  â¨¯ it can view report details                                           0.31s  
  â¨¯ it can export report to different formats                            0.31s  
  â¨¯ it can list reports                                                  0.31s  
  â¨¯ viewer cannot delete reports                                         0.31s  
  â¨¯ it can download report                                               0.31s  
  â¨¯ it can filter reports by type                                        0.31s  

   FAIL  Tests\Feature\API\KnowledgeAPITest
  â¨¯ it can perform semantic search                                       0.34s  
  â¨¯ it can update knowledge entry                                        0.33s  
  â¨¯ it can delete knowledge entry                                        0.32s  
  â¨¯ it can get all knowledge entries                                     0.32s  
  â¨¯ it can find similar content                                          0.32s  
  â¨¯ it can get knowledge statistics                                      0.33s  
  â¨¯ it can create knowledge entry                                        0.32s  
  â¨¯ it can filter by content type                                        0.32s  
  â¨¯ it validates required fields                                         0.34s  
  â¨¯ it respects org isolation                                            0.56s  
  â¨¯ it can get knowledge entry by id                                     0.33s  
  â¨¯ it can filter by category                                            0.33s  

   FAIL  Tests\Feature\Controllers\TeamControllerTest
  â¨¯ it respects org isolation                                            0.33s  
  â¨¯ it can add team member                                               0.31s  
  â¨¯ it shows team member details                                         0.31s  
  â¨¯ it can filter by role                                                0.54s  
  â¨¯ it can send team invitation                                          0.31s  
  â¨¯ it can list team members                                             0.32s  
  â¨¯ it can remove team member                                            0.54s  
  â¨¯ viewer cannot add team members                                       0.31s  
  â¨¯ it can update team member role                                       0.54s  

   FAIL  Tests\Feature\Controllers\LeadControllerTest
  â¨¯ it can get single lead                                               0.35s  
  â¨¯ it requires authentication                                           0.09s  
  â¨¯ it can create lead                                                   0.32s  
  â¨¯ it respects org isolation                                            0.58s  
  â¨¯ it can list all leads                                                0.33s  
  â¨¯ it can filter leads by status                                        0.35s  
  â¨¯ it can delete lead                                                   0.34s  
  â¨¯ it can update lead                                                   0.35s  
  â¨¯ it can convert lead                                                  0.35s  
  â¨¯ it validates required fields                                         0.33s  

   FAIL  Tests\Feature\Controllers\AssetControllerTest
  â¨¯ it can search assets                                                 0.35s  
  â¨¯ it can filter by file type                                           0.31s  
  â¨¯ it can update asset metadata                                         0.31s  
  â¨¯ it can upload asset                                                  0.31s  
  â¨¯ viewer cannot delete assets                                          0.30s  
  â¨¯ it can download asset                                                0.31s  
  â¨¯ it respects org isolation                                            0.30s  
  â¨¯ it can view asset details                                            0.31s  
  â¨¯ it can list assets                                                   0.32s  
  â¨¯ it can delete asset                                                  0.31s  

   FAIL  Tests\Feature\Orgs\OrgWebFlowTest
  â¨¯ created organization has valid uuid                                  0.11s  
  â¨¯ organization can set provider field                                  0.10s  
  â¨¯ organization name must be unique                                     0.10s  
  ! unauthenticated user cannot view orgs list â†’ file_get_contents(/homâ€¦ 0.09s  
  ! organization index shows all organizations â†’ file_get_contents(/homâ€¦ 0.12s  
  ! authenticated user can view orgs list page â†’ file_get_contents(/homâ€¦ 0.10s  
  â¨¯ organization creation with invalid currency code fails               0.08s  
  â¨¯ form validation provides helpful error messages                      0.10s  
  ! organization creation rolls back on failure â†’ file_get_contents(/hoâ€¦ 0.10s  
  â¨¯ organization creation fails without required name                    0.09s  
  â¨¯ created organization has timestamps                                  0.09s  
  â¨¯ organization provider field is optional                              0.10s  
  â¨¯ user can view their organization                                     1.96s  
  â¨¯ organization supports different currencies                           0.09s  
  ! authenticated user can view create org form â†’ file_get_contents(/hoâ€¦ 0.09s  
  â¨¯ organization supports different locales                              0.11s  
  â¨¯ user can create new organization with valid data                     0.09s  
  â¨¯ user can create organization with minimal required data              0.08s  
  â¨¯ organization stores creator as owner                                 0.09s  

   FAIL  Tests\Feature\Campaigns\CampaignManagementTest
  â¨¯ user can delete campaign                                             0.11s  
  â¨¯ user cannot access campaigns from another org                        0.09s  
  â¨¯ user can list campaigns                                              0.09s  
  â¨¯ user can view campaign details                                       0.09s  
  â¨¯ user can create campaign                                             0.09s  
  â¨¯ user can filter campaigns by status                                  0.10s  
  â¨¯ user can update campaign                                             0.09s  
  â¨¯ user can search campaigns                                            0.09s  

   FAIL  Tests\Feature\API\CampaignAPITest
  â¨¯ it can filter campaigns by status                                    0.33s  
  â¨¯ it can list campaigns for organization                               0.34s  
  â¨¯ it can update a campaign                                             0.32s  
  ! it requires authentication â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.32s  
  â¨¯ it enforces org isolation for campaigns                              0.55s  
  â¨¯ it can view a specific campaign                                      0.32s  
  â¨¯ it can delete a campaign                                             0.31s  
  â¨¯ it can create a campaign                                             0.32s  
  â¨¯ it validates campaign creation data                                  0.32s  
  â¨¯ it can search campaigns                                              0.34s  

   FAIL  Tests\Feature\Controllers\CampaignControllerTest
  â¨¯ it respects org isolation                                            0.57s  
  â¨¯ it validates required fields                                         0.33s  
  â¨¯ it can list all campaigns                                            0.33s  
  â¨¯ it can search campaigns                                              0.32s  
  â¨¯ it can update campaign                                               0.33s  
  â¨¯ it can get single campaign                                           0.33s  
  â¨¯ it can get campaign analytics                                        0.34s  
  â¨¯ it can delete campaign                                               0.34s  
  â¨¯ it can filter campaigns by status                                    0.33s  
  â¨¯ it can create campaign                                               0.34s  
  â¨¯ it requires authentication                                           0.08s  
  â¨¯ it can duplicate campaign                                            0.34s  

   FAIL  Tests\Feature\API\WebhookAPITest
  â¨¯ it receives facebook comment webhook                                 0.33s  
  â¨¯ it processes webhooks asynchronously                                 0.34s  
  â¨¯ it receives instagram message webhook                                0.34s  
  â¨¯ it validates webhook signatures                                      0.08s  
  â¨¯ it receives twitter webhook                                          0.33s  
  â¨¯ it receives tiktok webhook                                           0.33s  
  â¨¯ it receives facebook webhook verification                            0.10s  
  â¨¯ it handles malformed webhook payloads gracefully                     0.09s  
  â¨¯ it receives whatsapp message webhook                                 0.33s  
  â¨¯ it receives whatsapp status update webhook                           0.32s  

   FAIL  Tests\Feature\AI\RateLimitTest
  â¨¯ rate limit headers are present                                       0.08s  
  â¨¯ ai caption generation is rate limited                                0.09s  
  â¨¯ rate limits are per user                                             0.08s  
  â¨¯ knowledge processing is rate limited                                 0.08s  
  â¨¯ semantic search is rate limited                                      0.08s  
  â¨¯ rate limit resets after time window                                  0.08s  
  â¨¯ ai generation endpoint is rate limited                               0.08s  
  â¨¯ unauthenticated requests are rate limited by ip                      0.10s  
  â¨¯ retry after header is present when rate limited                      0.08s  
  â¨¯ ai hashtag generation is rate limited                                0.08s  

   FAIL  Tests\Feature\CampaignTest
  â¨¯ example                                                              0.10s  

   FAIL  Tests\Unit\Observers\CampaignObserverTest
  ! it fires updating event â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.10s  
  ! it fires creating event â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.08s  
  ! it fires deleting event â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.08s  
  ! it fires updated event â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.09s  
  â¨¯ it sets defaults on creation                                         0.08s  
  ! it fires created event â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  
  ! it fires deleted event â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.10s  

   FAIL  Tests\Unit\Events\ContentPublishedEventTest
  ! it can be instantiated â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.09s  
  ! it contains content data â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  â¨¯ it includes publication timestamp                                    0.08s  
  ! it triggers platform distribution â†’ file_get_contents(/home/user/cmâ€¦ 0.10s  
  ! it respects org context â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.08s  
  ! it broadcasts on org channel â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.08s  
  â¨¯ it includes platform information                                     0.08s  
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.08s  

   WARN  Tests\Unit\Models\AdPlatform\AdCampaignTest
  ! it stores budget information â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.11s  
  ! it can be soft deleted â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.09s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.09s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.09s  
  ! it validates platform â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.08s  
  ! it belongs to organization and integration â†’ file_get_contents(/homâ€¦ 0.10s  
  ! it validates status â†’ file_get_contents(/home/user/cmis.marketing.lâ€¦ 0.09s  
  ! it uses uuid as primary key â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.08s  
  ! it can create an ad campaign â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.08s  
  ! it validates objective â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  
  ! it stores metrics as json â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.08s  

   FAIL  Tests\Unit\Services\YouTubeServiceTest
  â¨¯ it can upload short                                                  0.35s  
  â¨¯ it can get comments                                                  0.32s  
  â¨¯ it handles api errors                                                0.32s  
  â¨¯ it can reply to comment                                              0.32s  
  â¨¯ it can delete video                                                  0.33s  
  â¨¯ it can get video analytics                                           0.34s  
  â¨¯ it validates video file                                              0.33s  
  â¨¯ it can update video metadata                                         0.33s  
  â¨¯ it can create playlist                                               0.33s  
  â¨¯ it can get channel analytics                                         0.33s  
  â¨¯ it can upload video                                                  0.34s  
  â¨¯ it can add video to playlist                                         0.32s  

   FAIL  Tests\Unit\Models\Notification\NotificationPreferenceTest
  â¨¯ it can disable all channels                                          0.32s  
  â¨¯ it can enable in app notifications                                   0.33s  
  â¨¯ it can enable push notifications                                     0.34s  
  â¨¯ it can enable email notifications                                    0.34s  
  â¨¯ it uses uuid as primary key                                          0.32s  
  â¨¯ it belongs to org                                                    0.34s  
  â¨¯ it can create notification preference                                0.32s  
  â¨¯ it can enable sms notifications                                      0.33s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.58s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.32s  
  ! it has different notification types â†’ file_get_contents(/home/user/â€¦ 0.32s  
  â¨¯ it belongs to user                                                   0.31s  

   FAIL  Tests\Unit\Models\Webhook\WebhookTest
  â¨¯ it can create webhook                                                0.08s  
  â¨¯ it stores headers as json                                            0.10s  
  ! it can be active or inactive â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.09s  
  ! it has different event types â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.09s  
  ! it has secret for signature verification â†’ file_get_contents(/home/â€¦ 0.11s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.09s  
  â¨¯ it tracks last delivery time                                         0.10s  
  â¨¯ it tracks delivery attempts                                          0.08s  
  â¨¯ it belongs to org                                                    0.09s  
  â¨¯ it respects rls policies                                             0.09s  
  â¨¯ it stores retry configuration                                        0.08s  
  â¨¯ it uses uuid as primary key                                          0.08s  

   FAIL  Tests\Unit\Services\PinterestServiceTest
  â¨¯ it can update board                                                  0.35s  
  â¨¯ it handles rate limiting                                             0.33s  
  â¨¯ it can get board pins                                                0.33s  
  â¨¯ it can create board                                                  0.33s  
  â¨¯ it can get pin analytics                                             0.33s  
  â¨¯ it validates required fields                                         0.34s  
  â¨¯ it can search pins                                                   0.32s  
  â¨¯ it can create story pin                                              0.32s  
  â¨¯ it can get user analytics                                            0.32s  
  â¨¯ it can create pin                                                    0.32s  
  â¨¯ it handles api errors                                                0.34s  
  â¨¯ it can delete pin                                                    0.33s  

   FAIL  Tests\Unit\Models\OrgTest
  ! it can count active campaigns â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.10s  
  â¨¯ it enforces unique name constraint                                   0.08s  
  ! it can be soft deleted â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.09s  
  ! it uses uuid as primary key â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.10s  
  â¨¯ it stores settings as json                                           0.08s  
  â¨¯ it has many users                                                    0.56s  
  ! it has many campaigns â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.08s  
  ! it can create an organization â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.08s  
  ! it validates required fields â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.09s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  

   FAIL  Tests\Unit\Jobs\UpdateCampaignStatsJobTest
  â¨¯ it updates roi metrics                                               0.09s  
  â¨¯ it stores stats snapshot                                             0.08s  
  ! it respects org isolation â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.09s  
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.11s  
  â¨¯ it updates reach metrics                                             0.08s  
  â¨¯ it calculates click through rate                                     0.09s  
  â¨¯ it updates campaign statistics                                       0.09s  
  â¨¯ it handles campaigns with no data                                    0.09s  
  â¨¯ it calculates conversion rate                                        0.10s  
  â¨¯ it tracks cost per click                                             0.08s  
  â¨¯ it aggregates platform stats                                         0.08s  
  â¨¯ it calculates engagement metrics                                     0.08s  

   FAIL  Tests\Unit\Services\InstagramServiceTest
  â¨¯ it can get comments                                                  0.33s  
  â¨¯ it can publish story                                                 0.34s  
  â¨¯ it can get media insights                                            0.33s  
  â¨¯ it can publish feed post                                             0.32s  
  ! it can publish carousel â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.33s  
  â¨¯ it can delete comment                                                0.32s  
  â¨¯ it can publish reel                                                  0.34s  
  â¨¯ it can get account insights                                          0.32s  
  â¨¯ it can get hashtag search                                            0.33s  
  â¨¯ it handles rate limiting                                             0.32s  
  ! it can reply to comment â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.32s  
  â¨¯ it handles api errors gracefully                                     0.32s  

   FAIL  Tests\Unit\Models\Social\SocialPostTest
  â¨¯ it validates post type                                               0.10s  
  â¨¯ it can create a social post                                          0.09s  
  ! it validates platform â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.08s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.09s  
  â¨¯ it calculates engagement rate                                        0.10s  
  â¨¯ it belongs to organization and integration                           0.08s  
  â¨¯ it can be soft deleted                                               0.08s  
  â¨¯ it uses uuid as primary key                                          0.08s  
  â¨¯ it stores metrics as json                                            0.08s  

   FAIL  Tests\Unit\Listeners\SendCampaignNotificationListenerTest
  â¨¯ it sends notification when campaign is created                       0.33s  
  â¨¯ it handles errors gracefully                                         0.08s  
  â¨¯ it handles event correctly                                           0.08s  
  ! it can be queued â†’ file_get_contents(/home/user/cmis.marketing.limiâ€¦ 0.07s  

   FAIL  Tests\Unit\Jobs\SendNotificationJobTest
  â¨¯ it includes action url                                               0.32s  
  â¨¯ it handles notification preferences                                  0.30s  
  â¨¯ it sends database notification                                       0.30s  
  ! it handles failed delivery â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.31s  
  â¨¯ it supports multiple channels                                        0.30s  
  ! it sends bulk notifications â†’ file_get_contents(/home/user/cmis.marâ€¦ 1.23s  
  ! it queues with delay â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.32s  
  â¨¯ it sends notification to user                                        0.31s  
  â¨¯ it sends email notification                                          0.31s  
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.30s  

   WARN  Tests\Unit\Models\Creative\CreativeBriefTest
  ! it stores brief data as json â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.10s  
  ! it stores complete art direction â†’ file_get_contents(/home/user/cmiâ€¦ 0.08s  
  ! it belongs to an organization â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.08s  
  ! it validates marketing objectives â†’ file_get_contents(/home/user/cmâ€¦ 0.08s  
  ! it uses uuid as primary key â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.08s  
  ! it can create a creative brief â†’ file_get_contents(/home/user/cmis.â€¦ 0.08s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.09s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  ! it can be soft deleted â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.09s  

   FAIL  Tests\Unit\Validators\LeadValidatorTest
  â¨¯ it validates source enum                                             0.08s  
  â¨¯ it validates custom fields as array                                  0.07s  
  â¨¯ it accepts valid lead data                                           0.09s  
  â¨¯ it validates phone format                                            0.07s  
  â¨¯ it validates email format                                            0.07s  
  â¨¯ it validates status enum                                             0.07s  
  â¨¯ it validates required name                                           0.08s  
  â¨¯ it accepts valid sources                                             0.09s  
  â¨¯ it validates score range                                             0.08s  
  â¨¯ it validates utm parameters                                          0.08s  

   WARN  Tests\Unit\Helpers\UrlHelperTest
  ! it appends path to url â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  
  ! it builds query string â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  
  ! it validates url format â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.09s  
  ! it removes query parameters â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.07s  
  ! it parses query string â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  
  ! it extracts domain from url â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.08s  
  ! it shortens url â†’ file_get_contents(/home/user/cmis.marketing.limitâ€¦ 0.09s  
  ! it checks if url is secure â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.08s  
  ! it adds utm parameters â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.09s  
  ! it extracts utm parameters â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.07s  

   FAIL  Tests\Unit\Middleware\EnsureOrgActiveMiddlewareTest
  ! it handles missing org â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.31s  
  â¨¯ it respects different org statuses                                   0.08s  
  â¨¯ it allows active org access                                          0.32s  
  â¨¯ it blocks suspended org access                                       0.31s  
  â¨¯ it blocks inactive org access                                        0.30s  
  ! it exempts admin users â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.31s  
  â¨¯ it checks org trial expiry                                           0.32s  
  â¨¯ it provides appropriate error message                                0.32s  
  â¨¯ it allows access during grace period                                 0.33s  

   WARN  Tests\Unit\Requests\StoreCampaignRequestTest
  ! it validates dates â†’ file_get_contents(/home/user/cmis.marketing.liâ€¦ 0.09s  
  ! it validates name max length â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.09s  
  ! it passes with valid data â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.08s  
  ! it validates required fields â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.08s  
  ! it validates status enum â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.10s  

   FAIL  Tests\Unit\Models\Analytics\AnalyticsReportTest
  â¨¯ it stores export file path                                           0.08s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  â¨¯ it stores filters as json                                            0.08s  
  â¨¯ it can create analytics report                                       0.10s  
  â¨¯ it tracks generated at timestamp                                     0.07s  
  â¨¯ it uses uuid as primary key                                          0.08s  
  â¨¯ it belongs to org                                                    0.08s  
  â¨¯ it tracks report generation status                                   0.08s  
  â¨¯ it has different report types                                        0.09s  
  â¨¯ it respects rls policies                                             0.10s  
  â¨¯ it stores report data as json                                        0.08s  
  â¨¯ it can belong to campaign                                            0.08s  
  â¨¯ it supports scheduled reports                                        0.08s  

   FAIL  Tests\Unit\Models\Content\ScheduledPostTest
  â¨¯ it stores post metadata                                              0.10s  
  ! it uses uuid as primary key â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.07s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  ! it can create scheduled post â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.08s  
  ! it has different post statuses â†’ file_get_contents(/home/user/cmis.â€¦ 0.08s  
  ! it supports different platforms â†’ file_get_contents(/home/user/cmisâ€¦ 0.08s  
  â¨¯ it tracks retry count                                                0.09s  
  â¨¯ it stores error messages for failed posts                            0.08s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  â¨¯ it stores media urls                                                 0.08s  
  ! it belongs to org â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  â¨¯ it tracks published time                                             0.10s  
  â¨¯ it can belong to campaign                                            0.08s  
  â¨¯ it stores platform post id                                           0.08s  
  â¨¯ it can belong to integration                                         0.08s  

   FAIL  Tests\Unit\Services\WhatsAppServiceTest
  â¨¯ it can send template message                                         0.32s  
  â¨¯ it can mark message as read                                          0.34s  
  â¨¯ it can send image message                                            0.32s  
  â¨¯ it can get media url                                                 0.31s  
  â¨¯ it validates phone number format                                     0.31s  
  â¨¯ it can send interactive button message                               0.32s  
  â¨¯ it handles rate limiting                                             0.33s  
  â¨¯ it can send document message                                         0.32s  
  â¨¯ it handles api errors                                                0.32s  
  â¨¯ it can send text message                                             0.31s  
  â¨¯ it can send interactive list message                                 0.31s  

   FAIL  Tests\Unit\Models\Lead\LeadTest
  â¨¯ it can be soft deleted                                               0.10s  
  â¨¯ it stores additional data as json                                    0.08s  
  â¨¯ it stores utm parameters                                             0.08s  
  ! it can create lead â†’ file_get_contents(/home/user/cmis.marketing.liâ€¦ 0.08s  
  â¨¯ it belongs to org                                                    0.08s  
  ! it stores lead source â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.10s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.07s  
  ! it stores lead score â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.08s  
  â¨¯ it can belong to campaign                                            0.08s  
  â¨¯ it tracks lead value                                                 0.08s  
  ! it assigns lead to user â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.30s  
  â¨¯ it tracks last contact date                                          0.10s  
  ! it has different lead statuses â†’ file_get_contents(/home/user/cmis.â€¦ 0.08s  
  â¨¯ it uses uuid as primary key                                          0.08s  
  â¨¯ it respects rls policies                                             0.08s  
  â¨¯ it tracks conversion date                                            0.08s  

   FAIL  Tests\Unit\Models\Contact\ContactTest
  â¨¯ it tracks subscription status                                        0.11s  
  â¨¯ it tracks last engagement date                                       0.08s  
  â¨¯ it uses uuid as primary key                                          0.08s  
  â¨¯ it stores custom fields                                              0.08s  
  â¨¯ it stores social profiles                                            0.08s  
  â¨¯ it can be soft deleted                                               0.09s  
  â¨¯ it respects rls policies                                             0.08s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  â¨¯ it stores contact source                                             0.08s  
  â¨¯ it stores contact segments                                           0.08s  
  â¨¯ it has full name accessor                                            0.10s  
  â¨¯ it belongs to org                                                    0.08s  
  ! it can create contact â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.08s  

   FAIL  Tests\Unit\Policies\LeadPolicyTest
  â¨¯ viewer cannot create leads                                           0.31s  
  â¨¯ editor cannot delete leads                                           0.31s  
  â¨¯ it respects org boundaries                                           0.33s  
  â¨¯ editor can view leads                                                0.31s  
  â¨¯ admin can update leads                                               0.31s  
  â¨¯ admin can create leads                                               0.31s  
  â¨¯ viewer cannot update leads                                           0.31s  
  â¨¯ admin can delete leads                                               0.33s  
  â¨¯ viewer can view leads                                                0.31s  
  â¨¯ editor can update leads                                              0.33s  
  â¨¯ admin can view leads                                                 0.32s  

   FAIL  Tests\Unit\Helpers\ValidationHelperTest
  ! it validates email â†’ file_get_contents(/home/user/cmis.marketing.liâ€¦ 0.10s  
  ! it validates file extension â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.11s  
  ! it validates hashtag â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.08s  
  ! it validates uuid â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  ! it validates arabic text â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  ! it validates date format â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  ! it validates credit card â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  ! it validates saudi phone â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.10s  
  ! it validates strong password â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.08s  
  ! it validates json â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  â¨¯ it validates url                                                     0.08s  
  ! it sanitizes input â†’ file_get_contents(/home/user/cmis.marketing.liâ€¦ 0.08s  
  ! it validates ip address â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.08s  

   FAIL  Tests\Unit\Services\ComplianceValidationServiceTest
  ! it validates empty content â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.09s  
  ! it provides suggestions â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.08s  
  ! it handles multiple violations â†’ file_get_contents(/home/user/cmis.â€¦ 0.08s  
  ! it handles multiple context attributes â†’ file_get_contents(/home/usâ€¦ 0.07s  
  â¨¯ it detects offensive content                                         0.08s  
  â¨¯ it provides warnings for us market                                   0.10s  
  ! it validates compliant content â†’ file_get_contents(/home/user/cmis.â€¦ 0.08s  
  ! it includes rule information in violations â†’ file_get_contents(/homâ€¦ 0.08s  
  ! it handles hashtags in content â†’ file_get_contents(/home/user/cmis.â€¦ 0.08s  
  â¨¯ it respects minimum score of zero                                    0.08s  
  ! it returns proper structure â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.11s  
  ! it handles unicode characters â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.09s  
  ! it detects health claims â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  ! it handles urls in content â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.08s  
  â¨¯ it validates ccpa for california                                     0.08s  
  â¨¯ it rejects critical violations immediately                           0.08s  
  ! it handles special characters â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.10s  
  ! it includes severity in violations â†’ file_get_contents(/home/user/câ€¦ 0.08s  
  ! it accumulates score deductions â†’ file_get_contents(/home/user/cmisâ€¦ 0.08s  
  â¨¯ it provides warnings for eu market                                   0.08s  
  ! it detects case insensitive violations â†’ file_get_contents(/home/usâ€¦ 0.08s  
  ! it validates short content â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.08s  
  ! it validates facebook specific rules â†’ file_get_contents(/home/userâ€¦ 0.10s  
  ! it applies rules based on context â†’ file_get_contents(/home/user/cmâ€¦ 0.08s  
  â¨¯ it can add custom rules                                              0.07s  
  â¨¯ it detects social media length violations                            0.07s  
  ! it validates instagram specific rules â†’ file_get_contents(/home/useâ€¦ 0.09s  
  ! it calculates compliance score â†’ file_get_contents(/home/user/cmis.â€¦ 0.11s  

   WARN  Tests\Unit\Commands\CleanupExpiredSessionsCommandTest
  ! it shows cleanup summary â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.09s  
  ! it accepts custom expiry time â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.07s  
  ! it cleans up expired sessions â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.08s  
  ! it cleans database sessions â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.10s  
  ! it limits batch size â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.08s  
  ! it shows dry run mode â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.08s  
  ! it cleans redis sessions â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  ! it shows verbose output â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.11s  
  ! it handles no expired sessions â†’ file_get_contents(/home/user/cmis.â€¦ 0.08s  

   FAIL  Tests\Unit\Services\LinkedInServiceTest
  â¨¯ it can publish video post                                            0.32s  
  â¨¯ it handles api errors                                                0.32s  
  â¨¯ it can delete post                                                   0.35s  
  â¨¯ it can publish article                                               0.32s  
  â¨¯ it can publish post                                                  0.32s  
  â¨¯ it can get post statistics                                           0.31s  
  â¨¯ it can get comments                                                  0.32s  
  â¨¯ it can get follower demographics                                     0.33s  
  â¨¯ it can publish image post                                            0.32s  
  â¨¯ it can get organization statistics                                   0.31s  
  â¨¯ it validates post content                                            0.31s  

   FAIL  Tests\Unit\Models\Asset\AssetTest
  â¨¯ it stores mime type                                                  0.08s  
  â¨¯ it can be public or private                                          0.10s  
  â¨¯ it respects rls policies                                             0.08s  
  ! it stores metadata â†’ file_get_contents(/home/user/cmis.marketing.liâ€¦ 0.08s  
  â¨¯ it stores thumbnail path                                             0.07s  
  â¨¯ it stores tags                                                       0.08s  
  ! it tracks usage count â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.10s  
  â¨¯ it has different file types                                          0.07s  
  â¨¯ it uses uuid as primary key                                          0.07s  
  ! it can create asset â†’ file_get_contents(/home/user/cmis.marketing.lâ€¦ 0.07s  
  â¨¯ it stores video duration                                             0.08s  
  â¨¯ it belongs to org                                                    0.08s  
  â¨¯ it stores file size                                                  0.09s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  â¨¯ it stores image dimensions                                           0.08s  

   FAIL  Tests\Unit\Services\Ads\MetaAdsServiceTest
  â¨¯ sync campaigns with empty ad account                                 0.09s  
  â¨¯ get configuration returns correct structure                          0.10s  
  â¨¯ validate token with expired integration                              0.08s  
  â¨¯ sync account successfully                                            0.08s  
  â¨¯ sync campaigns successfully                                          0.08s  
  â¨¯ sync account without ad account id                                   0.08s  
  â¨¯ sync metrics for campaigns                                           0.09s  

   FAIL  Tests\Unit\Models\Creative\ContentPlanTest
  ! it belongs to organization and campaign â†’ file_get_contents(/home/uâ€¦ 0.08s  
  â¨¯ it validates date range                                              0.08s  
  ! it uses uuid as primary key â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.08s  
  ! it can be soft deleted â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  
  â¨¯ it cascades soft delete to content items                             0.11s  
  ! it can create a content plan â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.08s  
  â¨¯ it has many content items                                            0.08s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.07s  

   WARN  Tests\Unit\Commands\GenerateReportsCommandTest
  ! it handles no pending reports â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.10s  
  ! it shows verbose output â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.09s  
  ! it generates pending reports â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.08s  
  ! it generates reports for specific org â†’ file_get_contents(/home/useâ€¦ 0.08s  
  ! it respects org isolation â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.08s  
  ! it updates report status â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.11s  
  ! it generates specific report type â†’ file_get_contents(/home/user/cmâ€¦ 0.08s  
  ! it limits batch size â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.10s  
  ! it supports dry run mode â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  ! it handles generation errors â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.11s  

   FAIL  Tests\Unit\Models\Content\ContentMediaTest
  â¨¯ it respects rls policies                                             0.08s  
  â¨¯ it tracks usage count                                                0.08s  
  â¨¯ it uses uuid as primary key                                          0.07s  
  â¨¯ it belongs to org                                                    0.10s  
  â¨¯ it stores thumbnail path                                             0.07s  
  â¨¯ it has timestamps                                                    0.07s  
  â¨¯ it can be soft deleted                                               0.08s  
  â¨¯ it can create content media                                          0.07s  
  â¨¯ it has file type categories                                          0.10s  
  â¨¯ it stores metadata as json                                           0.07s  
  â¨¯ it stores video duration                                             0.07s  
  â¨¯ it stores image dimensions                                           0.07s  

   WARN  Tests\Unit\Helpers\ArrayHelperTest
  ! it plucks values by key â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.07s  
  ! it checks if associative â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.09s  
  ! it removes empty values â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.07s  
  ! it merges recursive â†’ file_get_contents(/home/user/cmis.marketing.lâ€¦ 0.08s  
  ! it flattens nested arrays â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.07s  
  ! it gets nested value â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.07s  
  ! it sorts by key â†’ file_get_contents(/home/user/cmis.marketing.limitâ€¦ 0.07s  
  ! it removes null values â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.09s  
  ! it sets nested value â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.07s  
  ! it groups array by key â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.07s  

   FAIL  Tests\Unit\Events\CampaignCreatedEventTest
  â¨¯ it can be instantiated                                               0.08s  
  â¨¯ it contains campaign data                                            0.09s  
  â¨¯ it can be serialized                                                 0.07s  
  â¨¯ it broadcasts on correct channel                                     0.07s  
  â¨¯ it is dispatched when campaign is created                            0.07s  

   FAIL  Tests\Unit\Jobs\SendSMSJobTest
  â¨¯ it splits long messages                                              0.07s  
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.09s  
  â¨¯ it sends arabic message                                              0.07s  
  â¨¯ it sends sms to contact                                              0.07s  
  â¨¯ it handles rate limiting                                             0.07s  
  â¨¯ it supports message personalization                                  0.07s  
  â¨¯ it tracks sms delivery status                                        0.09s  
  â¨¯ it handles invalid phone number                                      0.07s  

   FAIL  Tests\Unit\Jobs\ProcessWebhookJobTest
  ! it retries on failure â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.07s  
  â¨¯ it updates delivery statistics                                       0.07s  
  â¨¯ it sends post request to webhook url                                 0.07s  
  â¨¯ it handles failed deliveries                                         0.11s  
  â¨¯ it generates signature when secret is set                            0.07s  
  â¨¯ it processes webhook delivery                                        0.08s  
  â¨¯ it includes custom headers                                           0.08s  
  â¨¯ it can be dispatched                                                 0.08s  

   WARN  Tests\Unit\Helpers\StringHelperTest
  ! it removes special characters â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.11s  
  ! it extracts hashtags â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.08s  
  ! it truncates string â†’ file_get_contents(/home/user/cmis.marketing.lâ€¦ 0.08s  
  ! it extracts mentions â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.08s  
  ! it generates slug â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  ! it converts to title case â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.09s  
  ! it masks sensitive data â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.11s  
  ! it counts words â†’ file_get_contents(/home/user/cmis.marketing.limitâ€¦ 0.07s  

   FAIL  Tests\Unit\Services\CampaignOrchestratorServiceTest
  â¨¯ it tracks campaign performance metrics                               0.32s  
  â¨¯ it can complete campaign                                             0.32s  
  â¨¯ it can create complete campaign workflow                             0.34s  
  â¨¯ it validates campaign date range                                     0.31s  
  â¨¯ it validates campaign budget                                         0.31s  
  â¨¯ it can duplicate campaign                                            0.32s  
  â¨¯ it can pause campaign                                                0.32s  
  ! it respects org isolation â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.57s  
  â¨¯ it can generate campaign insights                                    0.33s  
  â¨¯ it can activate campaign                                             0.32s  

   FAIL  Tests\Unit\Models\Operations\AuditLogTest
  â¨¯ it stores additional metadata                                        0.08s  
  â¨¯ it can query by entity type                                          0.07s  
  â¨¯ it tracks ip address                                                 0.09s  
  â¨¯ it belongs to user                                                   0.30s  
  â¨¯ it tracks user agent                                                 0.07s  
  â¨¯ it uses uuid as primary key                                          0.07s  
  â¨¯ it respects rls policies                                             0.07s  
  â¨¯ it stores entity information                                         0.09s  
  â¨¯ it belongs to org                                                    0.07s  
  â¨¯ it tracks action type                                                0.07s  
  â¨¯ it has timestamps                                                    0.07s  
  â¨¯ it can create audit log                                              0.31s  
  â¨¯ it stores old and new values                                         0.07s  

   FAIL  Tests\Unit\Models\Social\SocialAccountTest
  â¨¯ it stores metrics as json                                            0.10s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.07s  
  â¨¯ it uses uuid as primary key                                          0.08s  
  â¨¯ it stores profile data as json                                       0.08s  
  â¨¯ it can be soft deleted                                               0.07s  
  â¨¯ it can create a social account                                       0.09s  
  â¨¯ it tracks last sync time                                             0.07s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  â¨¯ it belongs to organization and integration                           0.08s  
  ! it validates platform â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.07s  

   FAIL  Tests\Unit\Models\Permission\PermissionTest
  â¨¯ it has display name                                                  0.10s  
  â¨¯ it has description                                                   0.07s  
  â¨¯ it can be assigned to roles                                          0.07s  
  â¨¯ it has unique name                                                   0.07s  
  â¨¯ it has priority order                                                0.07s  
  â¨¯ it uses uuid as primary key                                          0.09s  
  â¨¯ it supports wildcard permissions                                     0.07s  
  â¨¯ it has timestamps                                                    0.07s  
  â¨¯ it has category                                                      0.07s  
  â¨¯ it can create permission                                             0.08s  
  â¨¯ it groups permissions by category                                    0.07s  
  â¨¯ it can be active or inactive                                         0.09s  

   WARN  Tests\Unit\Validators\CampaignValidatorTest
  ! it validates budget is numeric â†’ file_get_contents(/home/user/cmis.â€¦ 0.08s  
  ! it validates end date after start date â†’ file_get_contents(/home/usâ€¦ 0.07s  
  ! it validates campaign name is required â†’ file_get_contents(/home/usâ€¦ 0.07s  
  ! it validates date format â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.07s  
  ! it validates campaign type â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.09s  
  ! it validates campaign name max length â†’ file_get_contents(/home/useâ€¦ 0.07s  
  ! it validates status values â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.07s  
  ! it allows valid campaign data â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.07s  
  ! it validates budget minimum value â†’ file_get_contents(/home/user/cmâ€¦ 0.07s  

   FAIL  Tests\Unit\Services\TikTokServiceTest
  â¨¯ it can publish video                                                 0.33s  
  â¨¯ it can get user info                                                 0.31s  
  â¨¯ it can get comments                                                  0.31s  
  â¨¯ it can get videos list                                               0.32s  
  â¨¯ it handles api errors                                                0.32s  
  â¨¯ it can reply to comment                                              0.34s  
  â¨¯ it can get audience insights                                         0.32s  
  â¨¯ it can get video analytics                                           0.33s  
  â¨¯ it validates video requirements                                      0.32s  

   WARN  Tests\Unit\Validators\IntegrationValidatorTest
  ! it validates metadata is array â†’ file_get_contents(/home/user/cmis.â€¦ 0.08s  
  ! it allows valid integration data â†’ file_get_contents(/home/user/cmiâ€¦ 0.10s  
  ! it validates platform is required â†’ file_get_contents(/home/user/cmâ€¦ 0.08s  
  ! it validates is active is boolean â†’ file_get_contents(/home/user/cmâ€¦ 0.08s  
  ! it validates name is required â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.08s  
  ! it validates platform values â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.08s  
  ! it validates credentials is array â†’ file_get_contents(/home/user/cmâ€¦ 0.10s  
  ! it validates token expires at date â†’ file_get_contents(/home/user/câ€¦ 0.08s  

   FAIL  Tests\Unit\Models\UserTest
  â¨¯ it can check permissions                                             0.32s  
  â¨¯ it can be soft deleted                                               0.31s  
  â¨¯ it uses uuid as primary identifier                                   0.30s  
  ! it has many organizations â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.35s  
  â¨¯ it enforces unique email                                             0.53s  
  â¨¯ it belongs to multiple organizations                                 0.31s  
  ! it can check organization membership â†’ file_get_contents(/home/userâ€¦ 0.32s  
  ! it can create a user with uuid â†’ file_get_contents(/home/user/cmis.â€¦ 0.31s  

   FAIL  Tests\Unit\Models\Platform\PlatformConnectionTest
  â¨¯ it stores additional metadata                                        0.11s  
  â¨¯ it uses uuid as primary key                                          0.08s  
  â¨¯ it tracks token expiry                                               0.08s  
  ! it can create platform connection â†’ file_get_contents(/home/user/cmâ€¦ 0.09s  
  â¨¯ it tracks last synced time                                           0.08s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.11s  
  â¨¯ it has different statuses                                            0.09s  
  â¨¯ it stores platform account name                                      0.08s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  â¨¯ it stores platform account id                                        0.08s  
  ! it has different platforms â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.08s  
  â¨¯ it stores access token                                               0.10s  
  â¨¯ it stores refresh token                                              0.08s  
  â¨¯ it belongs to org                                                    0.09s  

   WARN  Tests\Unit\Models\Other\SegmentTest
  ! it supports arabic names â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.09s  
  ! it uses uuid as primary key â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.11s  
  ! it belongs to org â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  ! it stores persona data â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  
  ! it can store complex persona â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.08s  
  ! it can create segment â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.09s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.09s  
  ! it tracks provider â†’ file_get_contents(/home/user/cmis.marketing.liâ€¦ 0.11s  
  ! it can scope by org â†’ file_get_contents(/home/user/cmis.marketing.lâ€¦ 0.08s  
  ! it can have notes â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  ! it uses soft deletes â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.09s  

   FAIL  Tests\Unit\Events\PostPublishedEventTest
  â¨¯ it can be dispatched                                                 0.12s  
  â¨¯ it can be listened to                                                0.09s  
  â¨¯ it broadcasts on private channel                                     0.08s  
  â¨¯ it can be instantiated                                               0.08s  
  â¨¯ it contains post data                                                0.08s  

   FAIL  Tests\Unit\Models\Workflow\WorkflowTest
  â¨¯ it belongs to org                                                    0.11s  
  ! it can be soft deleted â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  
  â¨¯ it stores workflow conditions                                        0.08s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  â¨¯ it uses uuid as primary key                                          0.08s  
  ! it has different trigger types â†’ file_get_contents(/home/user/cmis.â€¦ 0.08s  
  ! it can be active or inactive â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.11s  
  â¨¯ it tracks execution count                                            0.08s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  â¨¯ it tracks last execution time                                        0.08s  
  â¨¯ it stores workflow steps as json                                     0.08s  
  ! it can create workflow â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.10s  

   FAIL  Tests\Unit\Listeners\UpdateAnalyticsListenerTest
  â¨¯ it processes different platforms                                     0.09s  
  ! it respects org isolation â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.09s  
  â¨¯ it updates analytics on post published                               0.09s  
  â¨¯ it handles event gracefully                                          0.08s  
  â¨¯ it listens to post published event                                   0.10s  
  â¨¯ it tracks platform specific metrics                                  0.08s  
  â¨¯ it updates last published timestamp                                  0.08s  
  â¨¯ it increments post count                                             0.08s  

   FAIL  Tests\Unit\Models\Analytics\CampaignAnalyticsTest
  â¨¯ it can calculate roi                                                 0.11s  
  â¨¯ it can calculate cpm                                                 0.08s  
  â¨¯ it has timestamps                                                    0.08s  
  â¨¯ it can calculate cpc                                                 0.08s  
  â¨¯ it can calculate ctr                                                 0.10s  
  â¨¯ it respects rls policies                                             0.08s  
  â¨¯ it belongs to campaign and org                                       0.10s  
  â¨¯ it stores detailed metrics as json                                   0.08s  
  â¨¯ it can create campaign analytics                                     0.08s  
  â¨¯ it uses uuid as primary key                                          0.09s  
  â¨¯ it can calculate conversion rate                                     0.08s  

   WARN  Tests\Unit\Requests\UpdateCampaignRequestTest
  ! it validates budget is numeric â†’ file_get_contents(/home/user/cmis.â€¦ 0.11s  
  ! it validates campaign name max length â†’ file_get_contents(/home/useâ€¦ 0.09s  
  ! it validates channels is array â†’ file_get_contents(/home/user/cmis.â€¦ 0.08s  
  ! it validates end date after start date â†’ file_get_contents(/home/usâ€¦ 0.08s  
  ! all fields are optional â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.08s  
  ! it validates target audience is array â†’ file_get_contents(/home/useâ€¦ 0.10s  
  ! it validates status â†’ file_get_contents(/home/user/cmis.marketing.lâ€¦ 0.08s  
  ! it validates budget minimum value â†’ file_get_contents(/home/user/cmâ€¦ 0.07s  
  ! it validates campaign type â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.08s  
  ! it allows valid campaign data â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.08s  
  ! it validates objectives is array â†’ file_get_contents(/home/user/cmiâ€¦ 0.08s  
  ! it validates date format â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.11s  

   FAIL  Tests\Unit\Jobs\GenerateInvoiceJobTest
  â¨¯ it includes line items                                               0.10s  
  â¨¯ it generates unique invoice number                                   0.09s  
  â¨¯ it calculates invoice total                                          0.09s  
  â¨¯ it handles different currencies                                      0.11s  
  â¨¯ it sends invoice notification                                        0.09s  
  â¨¯ it applies tax to invoice                                            0.08s  
  â¨¯ it includes billing address                                          0.09s  
  â¨¯ it stores invoice pdf                                                0.09s  
  â¨¯ it generates invoice for subscription                                0.09s  
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.12s  

   FAIL  Tests\Unit\Jobs\SyncAnalyticsJobTest
  â¨¯ it calculates engagement rate                                        0.10s  
  â¨¯ it stores historical data                                            0.09s  
  â¨¯ it supports batch syncing                                            0.09s  
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.11s  
  ! it respects org isolation â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.08s  
  â¨¯ it syncs cost metrics                                                0.08s  
  â¨¯ it syncs platform specific metrics                                   0.08s  
  â¨¯ it updates existing analytics                                        0.09s  
  â¨¯ it can sync for date range                                           0.09s  
  â¨¯ it syncs campaign analytics                                          0.12s  
  â¨¯ it handles api errors gracefully                                     0.09s  

   FAIL  Tests\Unit\Jobs\SyncSocialMediaMetricsJobTest
  â¨¯ it syncs facebook metrics                                            0.09s  
  â¨¯ it updates last synced timestamp                                     0.09s  
  â¨¯ it handles api errors                                                0.11s  
  â¨¯ it can be dispatched                                                 0.08s  
  â¨¯ it syncs instagram metrics                                           0.09s  
  â¨¯ it stores metrics in database                                        0.09s  

   FAIL  Tests\Unit\Models\Content\ContentPlanItemTest
  â¨¯ it can be soft deleted                                               0.09s  
  â¨¯ it belongs to content plan and org                                   0.11s  
  â¨¯ it validates content type                                            0.09s  
  â¨¯ it uses uuid as primary key                                          0.09s  
  â¨¯ it stores content details as json                                    0.09s  
  â¨¯ it has timestamps                                                    0.09s  
  â¨¯ it can create a content plan item                                    0.10s  
  â¨¯ it validates status                                                  0.07s  
  â¨¯ it respects rls policies                                             0.07s  
  â¨¯ it validates platform                                                0.07s  

   FAIL  Tests\Unit\Services\GoogleBusinessServiceTest
  â¨¯ it can create local post                                             0.31s  
  â¨¯ it can get location insights                                         0.33s  
  â¨¯ it can create offer post                                             0.31s  
  â¨¯ it can get location questions                                        0.31s  
  â¨¯ it can update business hours                                         0.31s  
  â¨¯ it handles api errors                                                0.31s  
  â¨¯ it validates location id                                             0.34s  
  â¨¯ it can reply to review                                               0.32s  
  â¨¯ it can get reviews                                                   0.32s  
  â¨¯ it can answer question                                               0.32s  

   FAIL  Tests\Unit\Models\Role\RoleTest
  â¨¯ it stores metadata as json                                           0.08s  
  â¨¯ it can count users with role                                         0.10s  
  â¨¯ it has unique name per org                                           0.07s  
  â¨¯ it respects rls policies                                             0.08s  
  â¨¯ it can be system role                                                0.07s  
  â¨¯ it has timestamps                                                    0.08s  
  â¨¯ it uses uuid as primary key                                          0.10s  
  â¨¯ it tracks is default flag                                            0.07s  
  â¨¯ it can create role                                                   0.07s  
  â¨¯ it has display name in arabic                                        0.07s  
  â¨¯ it can have permissions                                              0.07s  
  â¨¯ it belongs to org                                                    0.07s  
  â¨¯ it has priority order                                                0.10s  

   FAIL  Tests\Unit\Middleware\RLSMiddlewareTest
  â¨¯ it clears rls context after request                                  0.31s  
  â¨¯ it sets correct org id in context                                    0.32s  
  ! it skips rls for unauthenticated requests â†’ file_get_contents(/homeâ€¦ 0.07s  
  ! it handles exceptions gracefully â†’ file_get_contents(/home/user/cmiâ€¦ 0.34s  
  ! it handles missing org id gracefully â†’ file_get_contents(/home/userâ€¦ 0.32s  
  ! it sets rls context for authenticated user â†’ file_get_contents(/homâ€¦ 0.32s  
  â¨¯ it sets correct user id in context                                   0.32s  
  â¨¯ it works with sanctum authentication                                 0.32s  

   FAIL  Tests\Unit\Validators\ContentValidatorTest
  â¨¯ it accepts valid content data                                        0.11s  
  â¨¯ it validates title max length                                        0.08s  
  â¨¯ it validates required body                                           0.08s  
  â¨¯ it validates tags as array                                           0.08s  
  â¨¯ it validates media urls as array                                     0.08s  
  â¨¯ it validates media urls format                                       0.08s  
  â¨¯ it accepts valid statuses                                            0.11s  
  â¨¯ it validates scheduled date in future                                0.07s  
  â¨¯ it validates scheduled date format                                   0.10s  
  â¨¯ it validates status enum                                             0.09s  
  â¨¯ it validates required title                                          0.08s  

   FAIL  Tests\Unit\Repositories\ContentRepositoryTest
  â¨¯ it can search content by keyword
  â¨¯ it can filter content by status
  â¨¯ it can get content performance
  â¨¯ it can get content by platform
  â¨¯ it can get scheduled content
  â¨¯ it can find similar content
  â¨¯ it can create content with context
  â¨¯ it can bulk update content status
  â¨¯ it can get content for campaign
  â¨¯ it respects transaction context

   FAIL  Tests\Unit\Models\Tag\TagTest
  ! it can create tag â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.12s  
  â¨¯ it belongs to org                                                    0.08s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  â¨¯ it tracks usage count                                                0.08s  
  â¨¯ it has different tag types                                           0.09s  
  â¨¯ it stores tag description                                            0.11s  
  â¨¯ it can be soft deleted                                               0.08s  
  â¨¯ it uses uuid as primary key                                          0.08s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  â¨¯ it can be active or inactive                                         0.08s  
  ! it has unique slug â†’ file_get_contents(/home/user/cmis.marketing.liâ€¦ 0.08s  
  ! it stores tag color â†’ file_get_contents(/home/user/cmis.marketing.lâ€¦ 0.10s  

   FAIL  Tests\Unit\Models\Budget\BudgetTest
  â¨¯ it uses uuid as primary key                                          0.08s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  â¨¯ it tracks budget status                                              0.07s  
  ! it supports different currencies â†’ file_get_contents(/home/user/cmiâ€¦ 0.10s  
  â¨¯ it calculates remaining amount                                       0.07s  
  â¨¯ it belongs to org                                                    0.07s  
  â¨¯ it stores approval information                                       0.30s  
  â¨¯ it can create budget                                                 0.07s  
  â¨¯ it belongs to campaign                                               0.07s  
  â¨¯ it tracks spent amount                                               0.10s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  â¨¯ it can have budget breakdown                                         0.08s  
  â¨¯ it has start and end dates                                           0.08s  

   FAIL  Tests\Unit\Models\Activity\ActivityLogTest
  â¨¯ it stores ip address                                                 0.34s  
  â¨¯ it stores user agent                                                 0.31s  
  ! it tracks different action types â†’ file_get_contents(/home/user/cmiâ€¦ 0.32s  
  ! it stores metadata as json â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.31s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.31s  
  â¨¯ it can create activity log                                           0.31s  
  â¨¯ it respects rls policies                                             0.34s  
  â¨¯ it tracks entity type and id                                         0.32s  
  â¨¯ it uses uuid as primary key                                          0.31s  
  â¨¯ it belongs to user and org                                           0.31s  
  â¨¯ it can filter by date range                                          0.32s  

   FAIL  Tests\Unit\Models\Log\ApiLogTest
  â¨¯ it belongs to user                                                   0.34s  
  â¨¯ it tracks response time                                              0.07s  
  â¨¯ it respects rls policies                                             0.08s  
  â¨¯ it uses uuid as primary key                                          0.07s  
  â¨¯ it stores error message for failed requests                          0.07s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.10s  
  â¨¯ it stores user agent                                                 0.08s  
  â¨¯ it belongs to org                                                    0.07s  
  â¨¯ it stores ip address                                                 0.07s  
  â¨¯ it stores response payload                                           0.07s  
  â¨¯ it can create api log                                                0.10s  
  ! it logs different http methods â†’ file_get_contents(/home/user/cmis.â€¦ 0.07s  
  â¨¯ it stores request payload                                            0.08s  
  ! it logs different status codes â†’ file_get_contents(/home/user/cmis.â€¦ 0.09s  

   FAIL  Tests\Unit\Models\Analytics\AnalyticsSnapshotTest
  ! it can create analytics snapshot â†’ file_get_contents(/home/user/cmiâ€¦ 0.09s  
  â¨¯ it stores platform specific metrics                                  0.11s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  â¨¯ it uses uuid as primary key                                          0.08s  
  ! it stores daily snapshots â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.09s  
  ! it stores engagement metrics â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.08s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.12s  
  â¨¯ it belongs to campaign                                               0.08s  
  ! it stores metrics as json â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.08s  
  ! it tracks snapshot date â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.08s  
  ! it calculates metric trends â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.08s  
  ! it stores cost metrics â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.07s  
  â¨¯ it belongs to org                                                    0.10s  

   FAIL  Tests\Unit\Jobs\SyncFacebookDataJobTest
  â¨¯ job creates sync log on success                                      0.08s  
  â¨¯ job can be dispatched                                                0.07s  
  â¨¯ job logs success on completion                                       0.07s  
  â¨¯ job updates integration on failure                                   0.10s  
  â¨¯ job serialization                                                    0.07s  
  â¨¯ job has correct configuration                                        0.07s  
  â¨¯ job is pushed to correct queue                                       0.07s  

   WARN  Tests\Unit\Formatters\DateFormatterTest
  ! it formats date for display â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.07s  
  ! it formats month year â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.10s  
  ! it formats date with time â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.07s  
  ! it gets quarter from date â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.06s  
  ! it gets start of day â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.07s  
  ! it calculates age from date â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.07s  
  ! it checks if date is past â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.07s  
  ! it formats iso8601 â†’ file_get_contents(/home/user/cmis.marketing.liâ€¦ 0.10s  
  ! it formats date for humans â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.26s  
  ! it checks if date is future â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.07s  
  ! it gets end of day â†’ file_get_contents(/home/user/cmis.marketing.liâ€¦ 0.07s  
  ! it formats arabic dates â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.27s  
  ! it converts to timezone â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.08s  

   WARN  Tests\Unit\Events\CampaignStatusChangedEventTest
  ! it can be instantiated â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  
  ! it tracks active to paused transition â†’ file_get_contents(/home/useâ€¦ 0.08s  
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.07s  
  ! it broadcasts on org channel â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.07s  
  ! it triggers notifications for important changes â†’ file_get_contentsâ€¦ 0.07s  
  ! it respects org context â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.07s  
  ! it contains old and new status â†’ file_get_contents(/home/user/cmis.â€¦ 0.07s  
  ! it includes timestamp â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.07s  
  ! it tracks draft to active transition â†’ file_get_contents(/home/userâ€¦ 0.07s  

   FAIL  Tests\Unit\Jobs\ProcessWebhookResponseJobTest
  â¨¯ it retries on timeout                                                0.07s  
  â¨¯ it sends custom headers                                              0.07s  
  â¨¯ it processes successful webhook response                             0.07s  
  â¨¯ it updates webhook statistics                                        0.07s  
  â¨¯ it respects max retry limit                                          0.07s  
  â¨¯ it handles failed webhook response                                   0.07s  
  â¨¯ it logs webhook delivery                                             0.11s  
  ! it respects org isolation â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.07s  
  â¨¯ it can be dispatched                                                 0.07s  
  â¨¯ it includes signature                                                0.07s  
  â¨¯ it handles network errors                                            0.07s  

   FAIL  Tests\Unit\Models\Content\ContentApprovalTest
  â¨¯ it has different approval statuses                                   0.30s  
  â¨¯ it belongs to content item and org                                   0.30s  
  â¨¯ it has timestamps                                                    0.30s  
  â¨¯ it supports multi level approvals                                    0.53s  
  â¨¯ it can create content approval                                       0.30s  
  â¨¯ it respects rls policies                                             0.30s  
  â¨¯ it uses uuid as primary key                                          0.31s  
  â¨¯ it stores revision requests                                          0.31s  
  â¨¯ it stores approval comments                                          0.30s  
  â¨¯ it tracks approval duration                                          0.30s  
  â¨¯ it tracks approval timestamp                                         0.30s  

   FAIL  Tests\Unit\Jobs\PublishToFacebookJobTest
  â¨¯ it handles publishing errors                                         0.33s  
  â¨¯ it publishes post to facebook                                        0.37s  
  â¨¯ it can be dispatched                                                 0.32s  
  â¨¯ it validates post content before publishing                          0.32s  
  â¨¯ it updates post metadata on success                                  0.32s  
  â¨¯ it retries on failure                                                0.32s  

   FAIL  Tests\Unit\Services\EmailServiceTest
  â¨¯ it can send campaign email                                           0.33s  
  â¨¯ it can track email opens                                             0.31s  
  â¨¯ it can schedule email                                                0.32s  
  â¨¯ it can send transactional email                                      0.31s  
  â¨¯ it can send bulk emails                                              0.32s  
  â¨¯ it can send email with attachments                                   0.31s  
  â¨¯ it validates required fields                                         0.36s  
  â¨¯ it validates email address                                           0.31s  
  â¨¯ it handles send failures                                             0.31s  
  â¨¯ it can track email clicks                                            0.31s  
  â¨¯ it can personalize content                                           0.31s  
  â¨¯ it can send template email                                           0.35s  

   FAIL  Tests\Unit\Services\SMSServiceTest
  â¨¯ it can get delivery report                                           0.32s  
  â¨¯ it can get message status                                            0.32s  
  â¨¯ it can send otp sms                                                  0.31s  
  â¨¯ it validates phone number                                            0.35s  
  â¨¯ it can schedule sms                                                  0.32s  
  â¨¯ it handles api errors                                                0.32s  
  â¨¯ it validates message length                                          0.32s  
  â¨¯ it handles rate limiting                                             0.32s  
  â¨¯ it can send unicode sms                                              0.32s  
  â¨¯ it can send bulk sms                                                 0.35s  
  â¨¯ it can send sms                                                      0.32s  
  â¨¯ it can send personalized sms                                         0.32s  

   FAIL  Tests\Unit\Models\Setting\SettingTest
  â¨¯ it uses uuid as primary key                                          0.09s  
  â¨¯ it can store json metadata                                           0.12s  
  â¨¯ it has category grouping                                             0.08s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  ! it stores different value types â†’ file_get_contents(/home/user/cmisâ€¦ 0.09s  
  â¨¯ it tracks description                                                0.08s  
  ! it has unique key per org â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.08s  
  â¨¯ it can be public or private                                          0.12s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  ! it can create setting â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.09s  
  â¨¯ it belongs to org                                                    0.08s  

   FAIL  Tests\Unit\Models\Subscription\SubscriptionTest
  â¨¯ it tracks trial period                                               0.12s  
  ! it can check if subscription is active â†’ file_get_contents(/home/usâ€¦ 0.08s  
  â¨¯ it respects rls policies                                             0.08s  
  â¨¯ it belongs to org                                                    0.08s  
  â¨¯ it stores plan features                                              0.08s  
  ! it has different statuses â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.09s  
  ! it tracks subscription dates â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.12s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  â¨¯ it stores pricing information                                        0.08s  
  ! it has different plan types â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.08s  
  â¨¯ it can create subscription                                           0.08s  
  â¨¯ it uses uuid as primary key                                          0.12s  

   WARN  Tests\Unit\Helpers\DateHelperTest
  ! it formats date for display â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.08s  
  ! it formats time ago â†’ file_get_contents(/home/user/cmis.marketing.lâ€¦ 0.30s  
  ! it gets date range array â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.08s  
  ! it checks if date is future â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.08s  
  ! it gets end of month â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.08s  
  ! it calculates days difference â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.09s  
  ! it gets start of month â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  
  ! it checks if date is past â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.08s  

   WARN  Tests\Unit\Commands\ProcessScheduledPostsCommandTest
  ! it logs processed posts â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.09s  
  ! it displays processing count â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.09s  
  ! it skips future posts â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.08s  
  ! it accepts dry run option â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.08s  
  ! it handles empty queue â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  
  ! it processes due scheduled posts â†’ file_get_contents(/home/user/cmiâ€¦ 0.08s  
  ! it accepts limit option â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.08s  

   WARN  Tests\Unit\Formatters\NumberFormatterTest
  ! it calculates percentage change â†’ file_get_contents(/home/user/cmisâ€¦ 0.08s  
  ! it formats rating â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.07s  
  ! it rounds to nearest â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.07s  
  ! it formats saudi riyal â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.07s  
  ! it formats percentage â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.07s  
  ! it formats file size â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.07s  
  ! it formats with thousand separator â†’ file_get_contents(/home/user/câ€¦ 0.07s  
  ! it formats currency â†’ file_get_contents(/home/user/cmis.marketing.lâ€¦ 0.07s  
  ! it calculates discount amount â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.13s  
  ! it formats decimal with arabic numbers â†’ file_get_contents(/home/usâ€¦ 0.07s  
  ! it formats large numbers â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.07s  
  ! it calculates average â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.07s  
  ! it formats phone number â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.07s  

   FAIL  Tests\Unit\Models\Audience\AudienceTest
  ! it can create audience â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.09s  
  â¨¯ it has interest criteria                                             0.08s  
  â¨¯ it can be active or inactive                                         0.07s  
  â¨¯ it has lookalike source                                              0.08s  
  â¨¯ it tracks source platforms                                           0.08s  
  â¨¯ it has different audience types                                      0.07s  
  â¨¯ it belongs to org                                                    0.08s  
  â¨¯ it tracks last updated time                                          0.07s  
  â¨¯ it respects rls policies                                             0.07s  
  â¨¯ it tracks audience size                                              0.07s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.07s  
  â¨¯ it has behavioral criteria                                           0.08s  
  â¨¯ it has demographic criteria                                          0.13s  
  â¨¯ it uses uuid as primary key                                          0.07s  

   FAIL  Tests\Unit\Models\Activity\ActivityTest
  â¨¯ it tracks user agent                                                 0.31s  
  ! it tracks different actions â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.31s  
  â¨¯ it stores properties as json                                         0.31s  
  â¨¯ it uses uuid as primary key                                          0.30s  
  â¨¯ it belongs to user                                                   0.31s  
  ! it can create activity â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.31s  
  â¨¯ it is polymorphic                                                    0.31s  
  â¨¯ it belongs to org                                                    0.30s  
  â¨¯ it has description                                                   0.32s  
  â¨¯ it can be filtered by date range                                     0.35s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.54s  
  â¨¯ it tracks ip address                                                 0.31s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.31s  

   FAIL  Tests\Unit\Jobs\CleanupOldLogsJobTest
  â¨¯ it cleans up old api logs                                            0.08s  
  â¨¯ it returns deleted count                                             0.13s  
  â¨¯ it processes in batches                                              0.81s  
  â¨¯ it respects org isolation                                            0.08s  
  â¨¯ it accepts custom retention days                                     0.08s  
  â¨¯ it handles no logs to delete                                         0.08s  
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.12s  
  â¨¯ it cleans up old activity logs                                       0.09s  

   WARN  Tests\Unit\Middleware\RateLimitMiddlewareTest
  ! it uses different limits per endpoint â†’ file_get_contents(/home/useâ€¦ 0.32s  
  ! it respects org specific limits â†’ file_get_contents(/home/user/cmisâ€¦ 0.08s  
  ! it tracks remaining attempts â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.35s  
  ! it allows requests within limit â†’ file_get_contents(/home/user/cmisâ€¦ 0.32s  
  ! it applies per ip limits for guests â†’ file_get_contents(/home/user/â€¦ 0.09s  
  ! it provides retry after header â†’ file_get_contents(/home/user/cmis.â€¦ 0.31s  
  ! it applies per user limits â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.54s  
  ! it exempts admin users â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.30s  
  ! it resets after time window â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.35s  
  ! it blocks requests exceeding limit â†’ file_get_contents(/home/user/câ€¦ 0.31s  

   FAIL  Tests\Unit\Models\Report\ReportTest
  ! it stores file path â†’ file_get_contents(/home/user/cmis.marketing.lâ€¦ 0.08s  
  ! it belongs to org â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  ! it tracks generation time â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.12s  
  â¨¯ it stores filter parameters                                          0.08s  
  ! it has different report types â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.08s  
  ! it has format type â†’ file_get_contents(/home/user/cmis.marketing.liâ€¦ 0.08s  
  ! it uses uuid as primary key â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.08s  
  ! it has different statuses â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.08s  
  ! it can create report â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.11s  
  â¨¯ it stores report data as json                                        0.09s  
  ! it belongs to user â†’ file_get_contents(/home/user/cmis.marketing.liâ€¦ 0.32s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.09s  
  â¨¯ it can be scheduled                                                  0.12s  

   FAIL  Tests\Unit\Models\Team\TeamMemberTest
  â¨¯ it tracks invitation details                                         0.32s  
  â¨¯ it can be soft deleted                                               0.31s  
  â¨¯ it can be active or inactive                                         0.54s  
  â¨¯ it belongs to org and user                                           0.31s  
  â¨¯ it stores permissions as json                                        0.34s  
  â¨¯ it has timestamps                                                    0.31s  
  â¨¯ it uses uuid as primary key                                          0.32s  
  â¨¯ it can create team member                                            0.31s  
  â¨¯ it has different roles                                               0.31s  
  â¨¯ it tracks last access time                                           0.35s  
  â¨¯ it respects rls policies                                             0.54s  

   FAIL  Tests\Unit\Repositories\AnalyticsRepositoryTest
  â¨¯ it respects transaction context                                      0.57s  
  â¨¯ it can get campaign analytics                                        0.32s  
  â¨¯ it can get platform analytics                                        0.32s  
  â¨¯ it can calculate roi                                                 0.37s  
  â¨¯ it can get channel attribution                                       0.33s  
  â¨¯ it can get org overview analytics                                    0.33s  
  â¨¯ it can get audience demographics                                     0.33s  
  â¨¯ it can get conversion funnel                                         0.33s  
  â¨¯ it can compare campaigns                                             0.37s  
  â¨¯ it can get top performing content                                    0.33s  
  â¨¯ it can calculate engagement metrics                                  0.33s  
  â¨¯ it can get real time analytics                                       0.33s  

   WARN  Tests\Unit\Commands\SyncIntegrationsCommandTest
  ! it updates last synced timestamp â†’ file_get_contents(/home/user/cmiâ€¦ 0.10s  
  ! it outputs sync summary â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.13s  
  ! it handles sync errors gracefully â†’ file_get_contents(/home/user/cmâ€¦ 0.09s  
  ! it syncs specific organization â†’ file_get_contents(/home/user/cmis.â€¦ 0.10s  
  ! it supports dry run mode â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.09s  
  ! it syncs specific platform â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.13s  
  ! it supports verbose output â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.09s  
  ! it handles no integrations â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.08s  
  ! it syncs all integrations â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.09s  

   WARN  Tests\Unit\Formatters\CurrencyFormatterTest
  ! it formats usd currency â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.13s  
  ! it formats sar currency â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.08s  
  ! it supports multiple currencies â†’ file_get_contents(/home/user/cmisâ€¦ 0.08s  
  ! it formats with custom decimals â†’ file_get_contents(/home/user/cmisâ€¦ 0.08s  
  ! it handles negative amounts â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.08s  
  ! it calculates percentage of budget â†’ file_get_contents(/home/user/câ€¦ 0.12s  
  ! it formats large amounts â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.07s  
  ! it converts sar to usd â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.07s  
  ! it converts usd to sar â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.07s  
  ! it formats without decimals â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.08s  

   FAIL  Tests\Unit\Jobs\ProcessLeadsJobTest
  â¨¯ it sends notification to sales team                                  0.12s  
  â¨¯ it tracks processing time                                            0.08s  
  â¨¯ it handles bulk processing                                           0.09s  
  â¨¯ it detects duplicate leads                                           0.08s  
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.08s  
  â¨¯ it categorizes leads by source                                       0.13s  
  â¨¯ it assigns to campaign                                               0.08s  
  â¨¯ it assigns lead score                                                0.08s  
  â¨¯ it updates lead status                                               0.08s  
  â¨¯ it processes new leads                                               0.08s  
  â¨¯ it validates lead email                                              0.08s  
  â¨¯ it enriches lead data                                                0.11s  

   FAIL  Tests\Unit\Services\FacebookServiceTest
  ! it can publish photo â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.33s  
  ! it can send message â†’ file_get_contents(/home/user/cmis.marketing.lâ€¦ 0.32s  
  â¨¯ it handles api errors                                                0.32s  
  â¨¯ it can get post insights                                             0.37s  
  â¨¯ it can get comments                                                  0.32s  
  â¨¯ it can get page conversations                                        0.32s  
  ! it can publish story â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.33s  
  ! it can reply to comment â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.32s  
  ! it can publish video â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.37s  
  â¨¯ it can get page insights                                             0.32s  
  â¨¯ it can publish page post                                             0.32s  

   WARN  Tests\Unit\Events\LeadQualifiedEventTest
  ! it triggers notifications â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.09s  
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.08s  
  ! it includes timestamp â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.12s  
  ! it contains lead data â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.08s  
  ! it can be instantiated â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  
  ! it includes qualification reason â†’ file_get_contents(/home/user/cmiâ€¦ 0.08s  
  ! it respects org context â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.07s  
  ! it broadcasts on private channel â†’ file_get_contents(/home/user/cmiâ€¦ 0.11s  

   FAIL  Tests\Unit\Jobs\GenerateCampaignReportJobTest
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.08s  
  â¨¯ it generates excel report                                            0.08s  
  â¨¯ it generates campaign report                                         0.07s  
  â¨¯ it generates pdf report                                              0.07s  
  â¨¯ it includes campaign analytics                                       0.11s  
  â¨¯ it stores report file                                                0.07s  

   FAIL  Tests\Unit\Models\CustomField\CustomFieldTest
  â¨¯ it belongs to org                                                    0.07s  
  â¨¯ it can be required or optional                                       0.06s  
  â¨¯ it has display order                                                 0.11s  
  ! it applies to different entity types â†’ file_get_contents(/home/userâ€¦ 0.07s  
  ! it has different field types â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.07s  
  ! it stores field options for select types â†’ file_get_contents(/home/â€¦ 0.07s  
  â¨¯ it has default value                                                 0.06s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.07s  
  â¨¯ it has validation rules                                              0.15s  
  ! it can create custom field â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.08s  
  â¨¯ it can be active or inactive                                         0.07s  
  â¨¯ it uses uuid as primary key                                          0.07s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.07s  

   WARN  Tests\Unit\Listeners\SendWebhookNotificationListenerTest
  ! it only sends to matching webhooks â†’ file_get_contents(/home/user/câ€¦ 0.12s  
  ! it skips inactive webhooks â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.07s  
  ! it includes event data in payload â†’ file_get_contents(/home/user/cmâ€¦ 0.07s  
  ! it sends webhook on campaign created â†’ file_get_contents(/home/userâ€¦ 0.07s  
  ! it queues webhook delivery â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.07s  
  ! it respects org isolation â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.12s  
  ! it handles webhook failures gracefully â†’ file_get_contents(/home/usâ€¦ 0.07s  
  ! it sends webhook on campaign published â†’ file_get_contents(/home/usâ€¦ 0.07s  

   PASS  Tests\Unit\ExampleTest
  âœ“ that true is true

   FAIL  Tests\Unit\Jobs\PublishToTwitterJobTest
  â¨¯ it publishes tweet with media                                        0.31s  
  â¨¯ it publishes tweet                                                   0.36s  
  â¨¯ it processes hashtags                                                0.31s  
  ! it handles character limit â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.31s  
  â¨¯ it handles api errors                                                0.31s  
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.31s  

   FAIL  Tests\Unit\Jobs\SendEmailCampaignJobTest
  â¨¯ it sends email to recipients                                         0.10s  
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.06s  
  ! it personalizes content â†’ file_get_contents(/home/user/cmis.marketiâ€¦ 0.07s  
  ! it handles errors gracefully â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.07s  
  ! it tracks sent emails â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.06s  

   FAIL  Tests\Unit\Models\Notification\NotificationTest
  â¨¯ it can create notification                                           0.33s  
  â¨¯ it has timestamps                                                    0.29s  
  â¨¯ it can filter unread notifications                                   0.29s  
  â¨¯ it can be marked as read                                             0.29s  
  â¨¯ it has different notification types                                  0.29s  
  â¨¯ it belongs to notifiable                                             0.33s  
  â¨¯ it can be deleted                                                    0.29s  
  â¨¯ it stores notification data as json                                  0.30s  
  â¨¯ it uses uuid as primary key                                          0.29s  

   FAIL  Tests\Unit\Repositories\KnowledgeRepositoryTest
  â¨¯ it respects token limit in context loader                            0.06s  
  â¨¯ it can generate system report                                        0.10s  
  â¨¯ it can load smart context                                            0.07s  
  â¨¯ it can auto analyze knowledge                                        0.10s  
  â¨¯ it can register knowledge                                            0.06s  
  â¨¯ it accepts different categories                                      0.06s  
  ! it can auto retrieve knowledge â†’ file_get_contents(/home/user/cmis.â€¦ 0.12s  
  ! it can perform semantic analysis â†’ file_get_contents(/home/user/cmiâ€¦ 0.06s  
  ! it can perform advanced semantic search â†’ file_get_contents(/home/uâ€¦ 0.06s  
  â¨¯ it supports arabic content                                           0.06s  
  ! it can cleanup old embeddings â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.06s  
  â¨¯ it can verify installation                                           0.12s  

   FAIL  Tests\Unit\Models\Template\TemplateTest
  ! it can create template â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  
  â¨¯ it tracks usage count                                                0.07s  
  â¨¯ it can be active or inactive                                         0.07s  
  ! it has different template types â†’ file_get_contents(/home/user/cmisâ€¦ 0.11s  
  â¨¯ it belongs to org                                                    0.06s  
  â¨¯ it stores template variables                                         0.06s  
  â¨¯ it stores category                                                   0.07s  
  â¨¯ it can be default template                                           0.07s  
  â¨¯ it uses uuid as primary key                                          0.12s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.07s  
  â¨¯ it respects rls policies                                             0.06s  
  ! it stores template metadata â†’ file_get_contents(/home/user/cmis.marâ€¦ 0.07s  
  â¨¯ it can be soft deleted                                               0.07s  

   FAIL  Tests\Unit\Notifications\CampaignNotificationTest
  ! it can send campaign started notification â†’ file_get_contents(/homeâ€¦ 0.36s  
  ! it includes action url in notification â†’ file_get_contents(/home/usâ€¦ 0.31s  
  â¨¯ it creates database notification record                              0.31s  
  â¨¯ it includes campaign details in notification                         0.31s  
  ! it can be sent to multiple users â†’ file_get_contents(/home/user/cmiâ€¦ 0.54s  
  ! it supports database channel â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.37s  
  â¨¯ it respects user notification preferences                            0.33s  
  ! it can send campaign completed notification â†’ file_get_contents(/hoâ€¦ 0.32s  
  ! it supports mail channel â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.33s  
  â¨¯ it can send post published notification                              0.32s  

   FAIL  Tests\Unit\Jobs\ProcessScheduledContentJobTest
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.12s  
  ! it handles publishing errors â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.08s  
  ! it updates content status after publishing â†’ file_get_contents(/homâ€¦ 0.08s  
  â¨¯ it processes multiple scheduled posts                                0.09s  
  â¨¯ it logs processing activity                                          0.08s  
  â¨¯ it publishes scheduled content                                       0.12s  
  â¨¯ it ignores future scheduled content                                  0.07s  
  â¨¯ it processes due scheduled content                                   0.07s  
  â¨¯ it respects batch size limit                                         0.11s  

   FAIL  Tests\Unit\Models\Billing\InvoiceTest
  â¨¯ it tracks payment date                                               0.07s  
  â¨¯ it calculates total with tax                                         0.11s  
  â¨¯ it stores notes                                                      0.08s  
  ! it has different statuses â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.08s  
  â¨¯ it belongs to subscription                                           0.08s  
  â¨¯ it belongs to org                                                    0.08s  
  â¨¯ it has due date                                                      0.13s  
  â¨¯ it can create invoice                                                0.07s  
  â¨¯ it has billing address                                               0.08s  
  ! it supports different currencies â†’ file_get_contents(/home/user/cmiâ€¦ 0.09s  
  â¨¯ it stores line items as json                                         0.08s  
  â¨¯ it respects rls policies                                             0.09s  
  â¨¯ it stores payment method                                             0.11s  
  â¨¯ it uses uuid as primary key                                          0.08s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.08s  

   FAIL  Tests\Unit\Policies\ContentPolicyTest
  â¨¯ editor can update draft content                                      0.32s  
  â¨¯ user from different org cannot view content                          0.34s  
  â¨¯ viewer cannot delete content                                         0.30s  
  â¨¯ editor can update content                                            0.30s  
  â¨¯ admin can create content                                             0.30s  
  â¨¯ owner can view content                                               0.31s  
  â¨¯ owner can delete content                                             0.36s  
  â¨¯ admin can delete content                                             0.31s  
  â¨¯ viewer can view published content                                    0.30s  

   FAIL  Tests\Unit\Services\GPTConversationServiceTest
  â¨¯ it can add message with metadata                                     0.07s  
  â¨¯ it increments message count                                          0.07s  
  â¨¯ it can summarize conversation                                        0.11s  
  ! it returns null for non existent session stats â†’ file_get_contents(â€¦ 0.07s  
  â¨¯ it can add assistant message                                         0.07s  
  â¨¯ it handles invalid session id gracefully                             0.07s  
  â¨¯ it limits context message history                                    0.07s  
  â¨¯ it can clear conversation history                                    0.07s  
  â¨¯ it preserves org context in session                                  0.11s  
  â¨¯ it can get conversation history                                      0.07s  
  â¨¯ it merges context updates                                            0.07s  
  â¨¯ it can update session context                                        0.07s  
  â¨¯ it can get or create session                                         0.07s  
  â¨¯ it can add user message                                              0.11s  
  â¨¯ it stores sessions in cache                                          0.07s  
  â¨¯ it can create new session                                            0.07s  
  â¨¯ it sets correct cache ttl                                            0.07s  
  â¨¯ it can build gpt context                                             0.07s  
  â¨¯ it can get session statistics                                        0.07s  
  â¨¯ it can limit history results                                         0.11s  
  â¨¯ it generates unique message ids                                      0.08s  
  â¨¯ it maintains message order                                           0.08s  
  â¨¯ it limits message history                                            0.08s  

   FAIL  Tests\Unit\Services\WebhookHandlerTest
  â¨¯ it handles webhook processing errors                                 0.39s  
  â¨¯ it can retry failed webhooks                                         0.32s  
  â¨¯ it validates webhook payload structure                               0.08s  
  â¨¯ it stores webhook events                                             0.32s  
  â¨¯ it can verify webhook signature                                      0.07s  
  â¨¯ it handles subscription verification                                 0.07s  
  â¨¯ it can process instagram webhook                                     0.37s  
  â¨¯ it tracks webhook processing time                                    0.31s  
  â¨¯ it can process facebook webhook                                      0.32s  
  â¨¯ it processes whatsapp webhooks                                       0.32s  
  â¨¯ it can process twitter webhook                                       0.32s  
  â¨¯ it rejects invalid signature                                         0.13s  

   FAIL  Tests\Unit\Models\Schedule\ScheduleTest
  â¨¯ it uses uuid as primary key                                          0.09s  
  â¨¯ it can be active or inactive                                         0.08s  
  â¨¯ it tracks last run time                                              0.09s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.13s  
  â¨¯ it belongs to org                                                    0.08s  
  â¨¯ it has different frequencies                                         0.08s  
  â¨¯ it stores scheduled time                                             0.08s  
  ! it respects rls policies â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.09s  
  â¨¯ it tracks next run time                                              0.08s  
  â¨¯ it stores schedule config                                            0.12s  
  â¨¯ it can create schedule                                               0.08s  

   WARN  Tests\Unit\Commands\GenerateAnalyticsReportCommandTest
  ! it can generate report for org â†’ file_get_contents(/home/user/cmis.â€¦ 0.10s  
  ! it validates org id â†’ file_get_contents(/home/user/cmis.marketing.lâ€¦ 0.08s  
  ! it accepts report type option â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.13s  
  ! it handles errors gracefully â†’ file_get_contents(/home/user/cmis.maâ€¦ 0.09s  
  ! it can export to pdf â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.09s  
  ! it shows progress output â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.09s  
  ! it accepts date range parameters â†’ file_get_contents(/home/user/cmiâ€¦ 0.15s  
  ! it can export to excel â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.09s  

   FAIL  Tests\Unit\Services\TwitterServiceTest
  â¨¯ it can get user timeline                                             0.33s  
  â¨¯ it handles api errors                                                0.33s  
  â¨¯ it can publish tweet with media                                      0.38s  
  â¨¯ it can search tweets                                                 0.32s  
  â¨¯ it can reply to tweet                                                0.32s  
  â¨¯ it can get tweet metrics                                             0.32s  
  â¨¯ it can get mentions                                                  0.32s  
  â¨¯ it can publish tweet                                                 0.37s  
  â¨¯ it can delete tweet                                                  0.32s  
  â¨¯ it can publish thread                                                0.33s  
  â¨¯ it handles character limit                                           0.33s  

   FAIL  Tests\Unit\Events\CampaignCompletedEventTest
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.09s  
  â¨¯ it includes completion timestamp                                     0.12s  
  ! it broadcasts on private channel â†’ file_get_contents(/home/user/cmiâ€¦ 0.08s  
  ! it can be listened to â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.08s  
  ! it contains campaign data â†’ file_get_contents(/home/user/cmis.markeâ€¦ 0.08s  
  ! it can be instantiated â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  

   FAIL  Tests\Unit\Events\LeadCapturedEventTest
  ! it broadcasts on private channel â†’ file_get_contents(/home/user/cmiâ€¦ 0.13s  
  ! it can be instantiated â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.08s  
  ! it can be listened to â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.08s  
  â¨¯ it includes lead source information                                  0.08s  
  ! it contains lead data â†’ file_get_contents(/home/user/cmis.marketingâ€¦ 0.08s  
  ! it triggers notification workflows â†’ file_get_contents(/home/user/câ€¦ 0.13s  
  ! it can be dispatched â†’ file_get_contents(/home/user/cmis.marketing.â€¦ 0.09s  

   FAIL  Tests\Unit\Models\CampaignTest
  ! it enforces valid status values â†’ file_get_contents(/home/user/cmisâ€¦ 0.33s  
  ! it belongs to an organization â†’ file_get_contents(/home/user/cmis.mâ€¦ 0.33s  
  ! it can create a campaign â†’ file_get_contents(/home/user/cmis.marketâ€¦ 0.33s  
  ! it can be soft deleted â†’ file_get_contents(/home/user/cmis.marketinâ€¦ 0.37s  
  â¨¯ it has many performance metrics                                      0.33s  
  â¨¯ it cascades delete to creative assets                                0.34s  
  â¨¯ it has many creative assets                                          0.34s  
  â¨¯ it respects rls policies                                             0.56s  
  â¨¯ it validates date range                                              0.38s  
  ! it validates budget format â†’ file_get_contents(/home/user/cmis.markâ€¦ 0.33s  

   FAIL  Tests\Unit\Models\Comment\CommentTest
  â¨¯ it can be edited                                                     0.32s  
  â¨¯ it belongs to user                                                   0.32s  
  ! it is polymorphic â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.32s  
  â¨¯ it can be marked as resolved                                         0.37s  
  â¨¯ it belongs to org                                                    0.31s  
  â¨¯ it stores attachments                                                0.33s  
  â¨¯ it can have parent comment                                           0.33s  
  â¨¯ it tracks mentions                                                   0.32s  
  â¨¯ it respects rls policies                                             0.37s  
  â¨¯ it supports soft deletes                                             0.32s  
  â¨¯ it uses uuid as primary key                                          0.32s  
  ! it has timestamps â†’ file_get_contents(/home/user/cmis.marketing.limâ€¦ 0.32s  
  â¨¯ it can create comment                                                0.32s  
